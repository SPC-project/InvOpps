<!DOCTIPE HTML PUBLIC"-//WRC//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>Test</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<script src="../js/rb-tree.js"></script>
	</head>

	<body>
		<p>If something go wrong - you will notice that</p>

		<script type="text/javascript" charset="utf-8">
			var test_counter = 1;
			var assert = function(condition){ 
				if(!condition) {
					alert("Test " + test_counter + " was failed!");
					is_failure = true;
					throw("check_it!");
				}
				test_counter += 1;
			}

			assert(makeNode(5).data == 5);
			
			// basic insertion, without rotation
			insert(5);
			assert(tree != null);
				assert(tree.data = 5);
					assert(!tree.isRed);		// root always black
			insert(4);
			assert(tree.left != null);
					assert(tree.left.data == 4);
						assert(tree.left.isRed); // new nodes, by default, is red
			insert(11);
			assert(tree.right != null);
					assert(tree.right.data == 11);
						assert(tree.right.isRed);
			insert(21);
			assert(tree.right.right != null);
					assert(tree.right.right.data == 21);
						assert(tree.right.right.isRed)
			assert(!tree.left.isRed && !tree.right.isRed); // should swap color

			// check single rotation
			insert(22);
			assert(tree.right.data == 21);
			assert(tree.right.left.data == 11);
			assert(tree.right.right.data == 22);
				assert(!tree.right.isRed);
				assert(tree.right.left.isRed);
				assert(tree.right.right.isRed);
		</script>
	</body>
</html>
