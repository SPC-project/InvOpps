<!DOCTYPE html>
<html g_init="6962" lang="ru">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<script async="true" src="../js/context.js" type="text/javascript"></script>
	<meta charset=windows - 1251>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="../css/bootstrap.css">
	<link rel="stylesheet" href="../css/font-awesome.css">
	<style type="text/css" title="currentStyle" media="screen">
		@import "/style/style.css";
				@import "/style/personal.css";
			</style>
	<link rel="stylesheet" href="../css/jquery-ui.css">
	
	

	<script type="text/javascript" src="../js/jquery.js"></script>
	<script type="text/javascript" src="../js/MathJax.js"></script>



	
<script type="text/javascript" src="../js/calc1.js"></script>
<script type="text/javascript" src="../js/calc.js"></script>






<link rel="stylesheet" href="../css/standard.css">
<style type="text/css" media="all">
	#request_status { width:900px; }
	.modal-body {  max-height: 800px;}
       .form_calc { display:table; min-width:657px; }
#comments div.form-actions:after, form.form_full div.fieldset div.form-actions:after { clear:none; }
div.hmain { width: 728px; padding:10px; margin:0; }
div.ads-inline{ width:728px; }
li.item { padding-left:20px; };
@media (min-width:980px) { 
div.hmain { width: 728px; margin-left:170px; padding:20px; margin-right:0;}
div.ads-inline{ width:728px }
}
@media (min-width: 1240px) { 
	div.hmain  { width: 860px; padding:20px; margin-left:auto; margin-right:auto;}
	div.socialbuttonsribbon { padding-left:20px; }
	div.ads-inline{ width:728px;margin:0 auto 0 auto; }
}
 
@media (min-width: 1400px) { 
	div.hmain  { width: 960px; padding:20px; margin-left:auto; margin-right:auto;}
	div.socialbuttonsribbon { padding-left:30px; }
}
div.calc-embed {
	background-color:#777=;
	padding: 3px 28px 3px 3px;
	width:697px;
	margin: 3px auto 12px auto;
}
div.not-suitable {
	float:right;
	max-width:220px;
	margin-top:20px;
	text-align:center;
	padding:4px 15px 15px 15px;
}
table.pm img { padding:10px; }
table.indevattrs { margin-bottom:0 }
div.collect { padding-right:14px; }
div.amount_form { padding-right:-14px; padding-left:-14px; margin-left:-14px; margin-right:-14px; background-color:#f5deb3; }
div.amount_form > div, div.transfer_form >div {
	font-size:120%; width:300px; padding:10px; margin-left:auto; margin-right:auto;
}
div.collect h4 { padding:10px; }

.bs-callout {
	padding: 20px;
	margin: 20px 0;
	border: 1px solid #eee;
	border-left-width: 5px;
	border-radius: 3px;
	}
.bs-callout-info h3 {
	line-height:30px;
	color: #1b809e;
}
.bs-callout-info {
	border-left-color: #1b809e;
}
</style>









</head>

<body id="ui_viewer" class="viewer">
<div class="outer">
<div class="inner">

<div class="inner2">
    
    










<div class="hall">

<div class="hmain">


 <script type="text/javascript">
	var timeSpanFormatter = new FormatterTimeSpan();
	$(document).ready(function() {
		var dVal = $('span.nav-created').text();
		 $('span.nav-created').text(timeSpanFormatter.Format( dVal));	
	});
</script>




<div><script type="text/javascript">
function Dialogv54b60eb9da33d() {this.GetElement = function () { return document.getElementById( "dialogv54b60eb9da33d" ); };this.GetEventHandlerName = function () { return "dialoghandlerv54b60eb9da33d"; };this.matrixfield= new DialogInput("matrixfield", this, null,new ElementAccessorDefault());this.messages= new DialogInput("messages", this, null,new ElementAccessorResource());this.precisionmeter= new DialogInput("precisionmeter", this, null,new ElementAccessorPrecision());this._line= new DialogInput("_line", this, null,new ElementAccessorDefault());this.outputs0= new DialogInput("outputs0", this, null,new ElementAccessorDefault());this.validation= new DialogInput("validation", this, null,new ElementAccessorOutput());this.det= new DialogInput("det", this, null,new ElementAccessorOutput());this.Show = function () { ShowDialog("dialogv54b60eb9da33d"); };this.Hide = function () { HideDialog("dialogv54b60eb9da33d"); };this.Busy = function () { SetDialogBusy("dialogv54b60eb9da33d"); };this.Free = function () { SetDialogFree("dialogv54b60eb9da33d"); };this.SetValues = function ( values ) {for( var inputId in values ) {if ( this[inputId] ) { this[inputId].SetValue( values[inputId] ); }}};this.Clear = function ( ) {this.matrixfield.ResetValue();this.messages.ResetValue();this.precisionmeter.ResetValue();this._line.ResetValue();this.validation.ResetValue();this.det.ResetValue();};this.SetDefaultValues = function () {this.matrixfield.SetValue("-1 2  5\n3 4  6\n-8 2 12");this.messages.SetValue("OK");this.precisionmeter.SetValue("2");this._line.SetValue("<div class=\"form-actions\"><a id=\"dialogv54b60eb9da33d_calculate\" href=\"#\" onclick=\"dialoghandlerv54b60eb9da33d.recalculate(500); return BSPreventDefaultAction(event);\" class=\"btn btn-calc pull-right\"><i id=\"dialogv54b60eb9da33d_timerplace\" class=\"fa fa-spinner fa-spin\"></i> <span id=\"dialogv54b60eb9da33d_button_text\">Рассчитать</span></a></div>");this.validation.SetValue("");this.det.SetValue("");};this.GetValues = function () {var retval = {};retval["matrixfield"]=this.matrixfield.GetValue();retval["messages"]=this.messages.GetValue();retval["precisionmeter"]=this.precisionmeter.GetValue();retval["_line"]=this._line.GetValue();retval["validation"]=this.validation.GetValue();retval["det"]=this.det.GetValue();return retval;};this.ShowError = function ( obj, text ) {showError( obj, text, "error_box_v54b60eb9da33d");};this.Validate = function ( ) {if (!this.matrixfield.ValidateCurrent() ) { return false; }if (!this.messages.ValidateCurrent() ) { return false; }if (!this.precisionmeter.ValidateCurrent() ) { return false; }if (!this._line.ValidateCurrent() ) { return false; }if (!this.validation.ValidateCurrent() ) { return false; }if (!this.det.ValidateCurrent() ) { return false; }return true;};};
</script></div>
<div class="form_calc" id="dialogv54b60eb9da33d">
<div class="fieldset ">

<div class="control-group">
<label class="control-label textarea" for="dialogv54b60eb9da33d_matrixfield">Исходная матрица:
</label>
<div class="controls"><textarea id="dialogv54b60eb9da33d_matrixfield" name="matrixfield" onchange=" dialoghandlerv54b60eb9da33d.onchanged('matrixfield');" onkeypress="return dialoghandlerv54b60eb9da33d.onkeypressed('matrixfield', event );" onkeydown="return (typeof(dialoghandlerv54b60eb9da33d.onkeydown) != 'undefined' ? dialoghandlerv54b60eb9da33d.onkeydown('matrixfield', event ) : true);" rows="5" cols="60">

</textarea>
</div></div><div id="dialogv54b60eb9da33d_messages">
<script type="text/javascript">
var dialogv54b60eb9da33d_messages_data={"OK":"Матрица размером ","Error":"Ошибка в строке ","NonSquare":"Матрица не квадратная или не задана!","Zero":"Матрица не квадратная или не задана!"};
</script>
</div>

<script type="text/javascript">
PCF.advisePrecisionmeter( document.getElementById( "dialogv54b60eb9da33d_precisionmeter"),2,"dialoghandlerv54b60eb9da33d");
</script>
<div id="dialogv54b60eb9da33d__line" class="labelctrl">

<a id="dialogv54b60eb9da33d_calculate" href="#" onclick="dialoghandlerv54b60eb9da33d.recalculate(500); return BSPreventDefaultAction(event);" class="btn btn-calc pull-justify">
<i style="display: none;" id="dialogv54b60eb9da33d_timerplace" class="fa fa-spinner fa-spin"></i> 
<span id="dialogv54b60eb9da33d_button_text">Рассчитать</span>
</a>

</div>
<p>
<div class="fieldset calc_outputs" id="dialogv54b60eb9da33d_outputs0"><div class="control-group"><div class="control"><span style="visibility: visible;" class="textoutput" id="dialogv54b60eb9da33d_validation"></span><span class="textoutput_label">Примечания:</span>
</div></div><div class="control-group"><div class="control">
<span style="visibility: visible;" class="textoutput" id="dialogv54b60eb9da33d_det"></span>
<span class="textoutput_label">Определитель (детерминант) матрицы:</span>
</div>
</div>
</div>
</div>
</div><div><script type="text/javascript">
var dialogv54b60eb9da33d = new Dialogv54b60eb9da33d();
var dialoghandlerv54b60eb9da33d = new function ( ) {this.Dialog = null;this.CalculatorID = 1103;var savedData = {};var outerParent = this;
var Planetcalc = new function() { 
var innerParent = this;};this.initdialog = function ( dlg ) { this.Dialog = dlg;if ( !window.CurrentPageCalculators ) { window.CurrentPageCalculators = []; }window.CurrentPageCalculators[window.CurrentPageCalculators.length]=this;this.outputs = {};this.outputTables={};this.Dialog.validation.formatter =new FormatterSame( );this.outputs['validation']=this.Dialog.validation;this.Dialog.det.formatter =new FormatterNumber( 2 );this.outputs['det']=this.Dialog.det;if ( this.Dialog.matrixfield ) { PSS.LoadInput("1103","matrixfield", this.Dialog.matrixfield,savedData["matrixfield"]);}if ( this.Dialog.messages ) { PSS.LoadInput("1103","messages", this.Dialog.messages,savedData["messages"]);}this.setTimerIcon( true );this.notInitializedDataCount=0; this.refresh();};this.showControlError = function ( e ) {if ( typeof(e)=="object" && e.source && e.message && this.Dialog[e.source] && this.Dialog[e.source].ShowError ) {this.Dialog[e.source].ShowError( e.message );return true; };return false; };this.GetInputValues = function ( ) {  var vals ={};vals['matrixfield'] = this.Dialog.matrixfield.GetValue();vals['messages'] = this.Dialog.messages.GetValue(); return vals; };this.OnDataSource = function ( name, obj ) { this[ "dataSource_" + name ] = obj; this.notInitializedDataCount-=1; if ( 0==this.notInitializedDataCount) this.refresh(); };this.setTimerIcon = function ( enable ) {  var timerplace = document.getElementById("dialogv54b60eb9da33d_timerplace"); var logo = document.getElementById("dialogv54b60eb9da33d_logo"); var button = document.getElementById("dialogv54b60eb9da33d_calculate"); if ( timerplace && logo && button) { timerplace.style.display=(enable?"inline-block":"none"); } this.enableOutputs(!enable);};this.enableOutputs = function( enable ) {this.Dialog.validation.GetElement().style.visibility=(enable?"visible":"hidden");this.Dialog.det.GetElement().style.visibility=(enable?"visible":"hidden");};this.onkeypressed = function ( controlid, evt ) { return true;};this.refreshTimer= 0;this.onchanged = function ( controlid ) {var control  = this.Dialog[ controlid ];if ( control.ValidateCurrent() && this.Dialog.Validate() ) {  this.recalculate(1500);}};this.recalculate= function ( timeout ) {	this.changeDisplayOptions();if (this.progressControl.isInProgress()) { this.progressControl.stop(); return;}if (this.refreshTimer) { clearTimeout(this.refreshTimer); } dialoghandlerv54b60eb9da33d.setTimerIcon(true); this.refreshTimer=setTimeout('dialoghandlerv54b60eb9da33d.refresh()',timeout);if ( this.Dialog.matrixfield ) { PSS.SaveInput("1103","matrixfield", this.Dialog.matrixfield);}if ( this.Dialog.messages ) { PSS.SaveInput("1103","messages", this.Dialog.messages);}};
function CalcProgressControl( calcHandler ) { var me=this;	var shouldContinue=false;	var shouldStop=false;	me.context = null;	me.isInProgress=function( ){ return me.context!=null;}
	function setButtonLabel( lbl ){ document.getElementById("dialogv54b60eb9da33d_button_text").innerHTML=lbl; }this.stop=function(){};this.clear=function(){};this.repeat=function(){};this.shouldRepeat=function(){ return false;};};
this.progressControl = new CalcProgressControl( this );this.repeat = function() { this.refresh(true); }; this.refresh = function ( repeat ) {if ( !repeat ) { this.progressControl.context = null;}if ( this.notInitializedDataCount>0 ) return;clearTimeout(this.refreshTimer); this.refreshTimer=0;this.setTimerIcon(true);try {if ( !this.progressControl.context ) {}	this.changeDisplayOptions();this.calculate(this.Dialog.matrixfield.GetValue(), this.Dialog.messages.GetValue(), this.Dialog.validation, this.Dialog.det);} catch( e ) { 
if ( !this.showControlError( e )) {alert( e.message ); }}if ( this.progressControl.shouldRepeat() ) {	if (this.refreshTimer) { clearTimeout(this.refreshTimer); } this.refreshTimer=setTimeout('dialoghandlerv54b60eb9da33d.repeat()',200);this.enableOutputs(true);} else {this.setTimerIcon(false);this.progressControl.clear(); }};this.changeDisplayOptions = function () {this.calculateDisplay(new function ( val ) {this.GetValue = function() { return val.GetValue();}
this.Display = function( y ) { if( y ) val.Show(); else val.Hide(); }
}(this.Dialog.matrixfield), new function ( val ) {this.GetValue = function() { return val.GetValue();}
this.Display = function( y ) { if( y ) val.Show(); else val.Hide(); }
}(this.Dialog.messages), new function ( val ) {this.Display = function( y ) { if( y ) val.Show(); else val.Hide(); }
}(this.Dialog.validation), new function ( val ) {this.Display = function( y ) { if( y ) val.Show(); else val.Hide(); }
}(this.Dialog.det));}
this.calculateDisplay = function ( matrixfield, messages, validation, det )
 {};
this.calculate = function ( matrixfield, messages, validation, det ) {function MatrixParser()
{
	this.c_valid = 0;
	this.c_invalid = -1;
	this.c_empty = -2;
	this.error_line = -1;

	this.validation_result = this.c_valid;

	this.rows = -1;
	this.columns = -1;
	this.matrix = [];
	
	this.parse = function(matrixstring)
	{		
		var rows = matrixstring.split(/\r\n|\r|\n/);
		for(var i = 0; i < rows.length; ++i)
		{
			if (rows[i].length == 0)
				continue;
			var cols = rows[i].split(" ");
			var nums = [];
			for(var j = 0; j < cols.length; ++j)
			{
				if (cols[j].length == 0)
					continue;
				var num = Number(cols[j].replace(',', '.'));
				if (isNaN(num))
				{
					this.error_line = i + 1;
					this.validation_result = this.c_invalid;
					break;					
				}
				nums.push(num);
			}

			if (this.columns == -1)
				this.columns = nums.length;
			else if (this.columns != nums.length)
			{
				this.error_line = i + 1;
				this.validation_result = this.c_invalid;
				break;
			}
			if (this.validation_result == this.c_invalid)
				break;
			if (nums.length == 0)
			{
				this.validation_result = this.c_empty;
				break;
			}	
			this.matrix.push(nums);
		}
		this.rows = this.matrix.length;
	}	
}

function MatrixSolver()
{
	function get(matrixarray, i, j)
	{
		var row = matrixarray[i];
		return row[j];
	}

	function columns(matrixarray)
	{
		var row = matrixarray[0];
		return row.length;
	}

	function minor(matrixarray, i, j)
	{
		var m = [];
		for(var k = 0; k < matrixarray.length; ++k)
		{
			if (k == i)
				continue;
			var row = matrixarray[k];
			var newrow = [];
			for(var l = 0; l < row.length; ++l)
			{
				if (l == j)
					continue;
				newrow.push(row[l]);
			}
			m.push(newrow);
		}
		return m;
	}

	this.calcDeterminant = function(matrixarray)
	{
		if (matrixarray.length == 1)
			return get(matrixarray, 0, 0);
		else if (matrixarray.length == 2)
			return get(matrixarray, 0, 0) * get(matrixarray, 1, 1) - get(matrixarray, 0, 1) * get(matrixarray, 1, 0);
		else
		{
			var det = 0;
			var cols = columns(matrixarray);
			for (var i = 0; i < cols; ++i)
			{
				det += Math.pow(-1, i)*get(matrixarray, 0, i)*this.calcDeterminant(minor(matrixarray, 0, i));
			}
			return det;
		}
	}	
}

var parser = new MatrixParser();
parser.parse(matrixfield);
if (parser.validation_result == parser.c_empty)
{
	validation.SetValue(messages["Zero"]);
}
else if (parser.validation_result == parser.c_invalid)
{
	validation.SetValue(messages["Error"] + " " + parser.error_line);
}
else if (parser.validation_result == parser.c_valid)
{
	validation.SetValue(messages["OK"] + parser.rows + "x" + parser.columns);
	if (parser.rows != parser.columns)
		validation.SetValue(messages["NonSquare"]);
	else
	{
		var solver = new MatrixSolver();
		var determinant = solver.calcDeterminant(parser.matrix);
		det.SetValue(determinant);
	}
}
};};
dialoghandlerv54b60eb9da33d.initdialog(dialogv54b60eb9da33d);
</script>
</div>









</div>


</div>
<div class="horizontal_divider"></div>




</div>



</div>








</body>
</html>