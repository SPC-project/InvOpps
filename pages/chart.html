<!DOCTYPE html>
<html lang="en">
  <head>
	  <meta charset="utf-8">
	  <meta http-equiv="X-UA-Compatible" content="IE=edge">
	  <meta name="viewport" content="width=device-width, initial-scale=1">
	  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	  <title>InvOpps: Chart</title>
	 
	  <!-- Bootstrap -->
	 <link href="../css/bootstrap.min.css" rel="stylesheet">
	 <link href="../css/font-awesome.min.css" rel="stylesheet">
	 <link href="../css/main.css" rel="stylesheet">
	 <link href="../css/folding.css" rel="stylesheet">
	 
	 <script src="../js/chart.js"></script>
	 <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	 <!-- Include all compiled plugins (below), or include individual files as needed -->
	 <script src="../js/bootstrap.min.js"></script>
  </head>
  <body onload="chartInit()" >
	  <header id="header" role="banner">
		  <div class="container">
			  <div id="navbar" class="navbar navbar-default">
				  <div class="navbar-header">
					  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
					  </button>
					  <a class="navbar-brand" href="../index.html"><img src="../images/spu.png"></a>
				 </div>
				 <div class="collapse navbar-collapse">
					  <ul class="nav navbar-nav">
							<li class="active"><a href="../index.html"><i class="icon-home"></i></a></li>
							<li><a href="#calculations">Calculations</a></li>
							<li><a href="#about">About</a></li>
					  </ul>
				 </div>
            </div>
        </div>
	  </header>
	  <section id="main-slider-calc"></section>
	
<div class="container">
<div class="box first">
	<div class="center">
		<h2>Построение графиков</h2>
		<p class="lead"></p>
	</div>

	<div class="panel-group" id="#accordion">
		<div class="panel panel-info">
			<div class="panel-heading">
				<h4 class="panel-title">
					<a data-toggle="collapse"  data-parent="#accordion" href="#collapseOne">Что происходит на данной страничке?</a>
				</h4>
			</div>
			<div id="collapseOne" class="panel-collapse collapse in">
            <div class="panel-body text-info">
					Эта странница предлагает в ваше распоряжение инструмент для построения графиков. 
			
					<br>
					


				</div>
			</div>
		</div>
		<div class="panel panel-info text-info">
			<div class="panel-heading">
				<h4 class="panel-title">
					<a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" class="collapsed">Collapsible Group Item #2</a>
				</h4>
			</div>
			<div id="collapseTwo" class="panel-collapse collapse">
				<div class="panel-body"> ##############</div>
			</div>
		</div>
	</div>

	<hr>
	<br>
	<br>
<section id="calculations">
	<a id="calculations" class="anchor"></a>
 <form onsubmit="return draw(this)">
			f(x) = <input type="text" name="func" size="24">
			<select name="color" style="font-weight: bold" onchange="this.style.color = this.value">
				<option value="maroon" style="color: maroon">Красный</option>
				<option value="green" style="color: green">Зеленый</option>
				<option value="olive" style="color: olive">Желтый</option>
				<option value="navy" style="color: navy">Синий</option>
				<option value="purple" style="color: purple">Фиолетовый</option>
				<option value="teal" style="color: teal">Голубой</option>
			</select>
			<input type="submit" value="Построить">
			<input type="button" value="Очистить" onclick="if ( confirm('Очистить?') ) chartInit()">
		</form>
		<br>
		<canvas id="chart" width="800" height="520">HTML5 не поддерживается</canvas>
	 <hr>

	 <div class="container"><table class="table text-center table-bordered" id="log"></table></div>
</section>
</div>
</div>

<section id="about"><a id="about" class="anchor"></a></section>

		<script type="text/javascript" src="chart.js"></script>
		<script type="text/javascript">
			colors = ['maroon','green','olive','navy','purple','teal'];
			
			// Инициализация параметров
			function chartInit() {
				var func   = document.getElementsByName('func')[0];
				var color  = document.getElementsByName('color')[0];
				var canvas = document.getElementById('chart');
				func.value = '';
				func.focus();
				color.value = colors[0];
				color.style.color = colors[0];
				Chart.drawAxis(canvas);
				funcCount = 0;
			}
			
			// Отображение графика
			function draw(form) {
				var func  = form.func.value;
				var color = form.color.value;
				if ( func != '' ) {
					var context = Chart.context;
					context.font = 'normal 10pt Courier';
					context.strokeStyle = color;
					funcCount++;
					context.strokeText(funcCount + '. f(x)=' + func, 0, funcCount * 12);
					Chart.drawChart(func, color);
					form.color.value = colors[funcCount % colors.length];
					form.color.style.color = colors[funcCount % colors.length];
				} else alert('Не введена функция');
				form.func.value = '';
				form.func.focus();
				return false;
			}
		</script>
  </body>
</html>
