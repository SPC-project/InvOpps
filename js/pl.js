function AjaxDialogHandler(a,c){this.Dialog=null;this.Parent=parent;this.URL=a;this.Target=c;var d=this;this.onchanged=function(){};this.initdialog=function(a){this.Dialog=a;this.Dialog.SetDefaultValues()};this.oncommand=function(a){clearLastError();a=="input_cancel"?this.Dialog.Hide():a=="input_ok"&&this.Dialog.Validate()&&(HideDialogForLoading(this.Dialog.GetElement().id),BSMakePOSTRequest(this.URL,this,this.Dialog.GetValues()))};this.onkeypressed=function(){return true};this.Edit=function(a){this.Dialog.SetValues(a);
this.Dialog.Show()};this.New=function(){this.Dialog.SetDefaultValues();this.Dialog.Show()};this.OnError=function(a){BSAlert(a);d.Dialog.Hide()};this.OnResponse=function(){d.Dialog.Hide();d.Target&&d.Target.Reload()}};function AjaxTable(a,c,d,b,e){this.Recordset=new Recordset(a,e);this.savedScroll=null;this.qc=this.Recordset.QueryContext;this.URL=c;var f=this;this.Renderer=new RecordsetRenderer(d,this.qc.items);this.OnSort=function(a){f.qc.sortcolumn=a;f.qc.sortdirection=f.qc.sortdirection=="ASC"?"DESC":"ASC";f.Reload()};this.OnNavigate=function(a){f.qc.from=Number(a)*f.qc.items;f.Reload()};this.OnStartLoading=function(){f.savedScroll=BSGetScroll();f.Renderer.RenderMessage(f.qc.items,b)};this.ReloadEx=function(a,
b){this.URL=b;for(var c in a)this.qc[c]=a[c];this.Reload()};this.Reload=function(){f.OnStartLoading();BSMakePOSTRequest(f.URL,f,f.qc)};this.ReloadFrom=function(a,b){var c=this.URL;this.ReloadEx(a,b);this.URL=c};this.Render=function(){this.Renderer.Render(this.Recordset,this.OnSort,this.OnNavigate)};this.Update=function(a){f.Recordset.LoadFromObject(a);null!=f.savedScroll&&window.scrollTo(f.savedScroll.x,f.savedScroll.y);f.Render()};this.OnResponse=function(a){f.Update(a)}}
function AjaxTableNoEmptyRows(a,c,d,b){this.inheritFrom=AjaxTable;this.inheritFrom(a,c,d,b);this.Renderer=new AjaxTableNoEmptyRowsRenderer(d,this.Recordset.QueryContext.items);this.OnStartLoading=function(){}}function AjaxSetMessages(a,c,d,b){this.inheritFrom=AjaxTable;this.inheritFrom(a,c,d,b);this.OnSort=null;this.Renderer=new CommentsRenderer(d,this.Recordset.QueryContext.items);this.OnStartLoading=function(){}}
function AjaxSetTopics(a,c,d,b){this.inheritFrom=AjaxTable;this.inheritFrom(a,c,d,b);this.OnSort=null;this.Renderer=new ForumTopicsRenderer(d,this.Recordset.QueryContext.items);this.OnStartLoading=function(){}}function AjaxSetForums(a,c,d,b){this.inheritFrom=AjaxTable;this.inheritFrom(a,c,d,b);this.OnSort=null;this.Renderer=new ForumsRenderer(d,this.Recordset.QueryContext.items);this.OnStartLoading=function(){}}
function AjaxSetPersonalInfo(a,c,d,b){this.inheritFrom=AjaxTable;this.inheritFrom(a,c,d,b);this.OnSort=null;this.Renderer=new PersonalInfoRenderer(d,this.Recordset.QueryContext.items);this.OnStartLoading=function(){}}function AjaxTableArtefactsByExample(a,c,d,b){this.inheritFrom=AjaxTable;this.inheritFrom(a,c,d,b);this.Renderer=new AjaxTableNoEmptyRowsRenderer(d,this.Recordset.QueryContext.items);this.OnStartLoading=function(){};this.OnNavigate=this.OnSort=null}
function AjaxTableHandbookData(a,c,d,b){this.inheritFrom=AjaxTable;this.inheritFrom(a,c,d,b);this.LinkedRecordset=new Recordset("");var e=this;this.OnResponse=function(a){a.linked&&e.LinkedRecordset.LoadFromArray(a.linked);e.Update(a)};this.GetRecord=function(a){var b=this.Recordset.GetRecord(a);return b?b:this.LinkedRecordset.GetRecord(a)}};function open_flash_chart_data(){var a={dispname:"",chartKind:1},c=[];a.name="column1";c.column1=a;a.name="column2";c.column2=a;return JsonChartData([],c)}function flash_chart_reload(a,c){var d=document.getElementById(a);d.firstChild.load?d.firstChild.load(c):setTimeout('flash_chart_reload("'+a+"\", '"+c+"')",100)}
function flash_navigation_reload(a,c){var d=document.getElementById(a+"_navigation"),b=0,e;for(e in d.childNodes)if(d.childNodes[e].style)d.childNodes[e].style.backgroundColor=b==c?"grey":d.style.backgroundColor,d.childNodes[e].style.color=b==c?"white":"blue",b++}
function Slices(a,c){var d=0,b=-1,e;for(e in c)c[e].chartKind<2?b++:d++;4==d&&b++;0==b&&b++;e=a.length;var b=b==1?40:Math.ceil(100/b),d=Math.ceil(e/b),b=Math.ceil(e/d),f=[];for(e=0;e<d;++e)f[e]=JsonChartData(a.slice(e*b,(e+1)*b),c);return f}function QuoteQuotes(a){return a=a.replace(/\"/g,"&quot;")}
function JsonChartData(a,c){function d(a,b){if(void 0==a)return 0;if(0==a.length)return 0;var c=0;do{var d;a:{d=true;var e=void 0;for(e in b)if(d)d=false;else{d=a[c][e];break a}d=0}if(isFinite(d))return d}while(++c<a.length);return 0}function b(a,b,c,d,o){var m={};a:{switch(d){case 2:d="line";break a;case 3:case 4:case 5:case 6:break a}d="bar_filled"}m.type=d;m.alpha=0.5;m.colour=o;m.text=c;m["font-size"]=10;m.values=[];for(var g in a)c=a[g],isFinite(c[b])?(c[b]>e&&(e=c[b]),c[b]<f&&null!=c[b]&&(f=
c[b]),m.values[m.values.length]=c[b]):m.values[m.values.length]=null;return m}var e=d(a,c),f=d(a,c),g=false,h="",i="#76A4FB,#224499,#FF0000,80C65A,#BB00BB,00BBBB".split(","),j={title:{}};j.title.text="";j.title.style="{font-size: 20px; color:#0000ff; font-family: Verdana; text-align: center;}";j.y_legend={};j.y_legend.text="";j.y_legend.style="{color: #736AFF; font-size: 12px;}";j.x_axis={};j.x_axis.stroke=1;j.x_axis.tick_height=10;j.x_axis.colour="#999999";j.x_axis.grid_colour="#999999";j.x_axis.labels=
{};j.x_axis.labels.rotate=270;j.x_axis.labels.labels=function(a,b){var c=[],d="",e;for(e in b){d=e;h=b[e].dispname;break}for(e in a)c[c.length]=String(a[e][d]);return c}(a,c);j.x_legend={};j.x_legend.text=h;j.x_legend.style="{color: #736AFF; font-size: 12px;}";j.elements=function(a,c){var d=[],e=[],f=0,m=true,h;for(h in c)m?m=false:c[h].chartKind<=2?(d[d.length]=b(a,h,c[h].dispname,c[h].chartKind,i[f%i.length]),f++):e[e.length]=b(a,h,c[h].dispname,c[h].chartKind,i[f%i.length]);if(4==e.length){m=d.length;
h=i[f%i.length];f=i[(f+1)%i.length];g=true;var j={type:"candle"};j.colour=h;j["negative-colour"]=f;j.tip="#x_label#<br>#high#<br>#open#<br>#close#<br>#low#";j.values=[];for(var r in e)for(var q in e[r].values)if(void 0==j.values[q]&&(j.values[q]={}),e[r].type==3)j.values[q].top=e[r].values[q];else if(e[r].type==4)j.values[q].high=e[r].values[q];else if(e[r].type==5)j.values[q].low=e[r].values[q];else if(e[r].type==6)j.values[q].bottom=e[r].values[q];d[m]=j}return d}(a,c);j.y_axis=function(a,b,c){var d=
{stroke:1,tick_length:3,colour:"#999999",grid_colour:"#999999",offset:0};a&&b!=c&&Math.abs(c-b)/c<0.05?(d.min=b,d.max=c,d.steps=(c-b)/10):(d.min=b<0?b:0,d.max=c>10?Math.ceil(c):c,d.steps=c>10?Math.ceil(c/10):c/10);return d}(g,f,e);return Value2Json(j)}
function BarDiagram(a,c,d){this.Header=new RecordsetHeader;this.Show=function(){this.m_destination.style.display="block"};this.Hide=function(){this.m_destination.style.display="none"};this.m_destination=document.getElementById(a);if(!this.m_destination.firstChild)this.m_destination.innerHTML=BSInsertFlash(700,300,a)+'<div id="'+a+'_navigation"></div>';this.m_numberOfSections=d;this.Render=function(b){if(0!=b.length){b=Slices(b,this.Header.Columns);this.m_destination.firstChild.load?this.m_destination.firstChild.load(b[0]):
setTimeout('flash_chart_reload("'+a+"\", '"+b[0]+"')",100);var c=document.getElementById(a+"_navigation");if(b.length>1){for(var d="",g=0;g<b.length;++g)d+="<a href=\"javascript:flash_chart_reload('"+a+"', '"+QuoteQuotes(b[g])+"');flash_navigation_reload('"+a+"',"+g+');">'+(g+1)+"</a>&nbsp;";c.innerHTML=d}else c.innerHTML=""}}};function BSAdviseEvent(a,c,d,b){window.addEventListener?a.addEventListener(c,function(a){d(b);return BSPreventDefaultAction(a)},false):a.attachEvent("on"+c,function(a){d(b);return BSPreventDefaultAction(a)})}function BSCreateXMLHttpRequest(){if(window.XMLHttpRequest)return new XMLHttpRequest;else if(window.ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP")}function BSGetDataSourceDomain(){return typeof dataSourceDomain!="undefined"?dataSourceDomain:document.domain}
function BSAlert(a){alert(a)}function BSJson2Object(a){return eval("("+a+")")}function ProcessResponseError(a,c){null!=a.OnError?a.OnError(c):BSAlert("Error occured:"+c)}function ProcessResponseData(a,c){c.error?ProcessResponseError(a,c.error):a.OnResponse(c)}
function BrowserResponse(a,c){this.OnResponse=function(){if(a.readyState==4)if(a.status==200)if(c.OnResponseText)c.OnResponseText(a.responseText);else{var d=BSJson2Object(a.responseText);ProcessResponseData(c,d)}else if(a.responseText)try{d=BSJson2Object(a.responseText),d.error&&ProcessResponseError(c,d.error)}catch(b){}else BSAlert("There was a problem retrieving the data from server:\n"+a.statusText)}}
function GGResponse(a){this.OnResponse=function(c){!c.text||c.text==""?ProcessResponseError(a,c.errors):a.OnResponseText?a.OnResponseText(c.text):(ProcessResponseData(a,c.data),gadgets.window.adjustHeight())}}
function BSMakePOSTRequest(a,c,d){if(typeof gadgets!="undefined"&&typeof gadgets.io!="undefined"){var b={};b[gadgets.io.RequestParameters.METHOD]=gadgets.io.MethodType.POST;d=gadgets.io.encodeValues(d);b[gadgets.io.RequestParameters.POST_DATA]=d;b[gadgets.io.RequestParameters.CONTENT_TYPE]=gadgets.io.ContentType.JSON;gadgets.io.makeRequest(a,(new GGResponse(c)).OnResponse,b)}else b=BSCreateXMLHttpRequest(),b.onreadystatechange=(new BrowserResponse(b,c)).OnResponse,b.open("POST",a,true),b.setRequestHeader("Content-Type",
"application/x-www-form-urlencoded"),b.send(d?SaveObjectToURLParams(d):null)}function BSPoint(a,c){this.x=a;this.y=c;this.xpx=a+"px";this.ypx=c+"px"}function BSGetMouseXYFromEvent(a){if(!a)a=window.event;var c=0,d=0;if(a)if(a.pageX||a.pageY)c=a.pageX,d=a.pageY;else if(a.clientX||a.clientY)c=a.clientX+document.body.scrollLeft,d=a.clientY+document.body.scrollTop;return new BSPoint(c,d)}
function BSGetWindowSize(){var a=0,c=0;if(typeof window.innerWidth=="number")a=window.innerWidth,c=window.innerHeight;else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight))a=document.documentElement.clientWidth,c=document.documentElement.clientHeight;else if(document.body&&(document.body.clientWidth||document.body.clientHeight))a=document.body.clientWidth,c=document.body.clientHeight;return new BSPoint(a,c)}
function BSGetScroll(){var a=0,c=0;if(typeof window.pageYOffset=="number")c=window.pageYOffset,a=window.pageXOffset;else if(document.body&&(document.body.scrollLeft||document.body.scrollTop))c=document.body.scrollTop,a=document.body.scrollLeft;else if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop))c=document.documentElement.scrollTop,a=document.documentElement.scrollLeft;return new BSPoint(a,c)}function BSSetScroll(a){window.scrollTo(a.x,a.y)}
function BSGetPageSize(){var a,c;window.innerHeight&&window.scrollMaxY?(a=document.body.scrollWidth,c=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(a=document.body.scrollWidth,c=document.body.scrollHeight):(a=document.body.offsetWidth,c=document.body.offsetHeight);var d=BSGetWindowSize();return new BSPoint(a<d.x?d.x:a,c<d.y?d.y:c)}function BSGetElementSize(a){return new BSPoint(a.clientWidth,a.clientHeight)}
function BSGetEventTarget(a){if((a=a.target?a.target:a.srcElement)&&(a.nodeType==3||a.nodeType==4))a=a.parentNode;return a}function BSPreventDefaultAction(a){a.preventDefault&&a.preventDefault();return false}function BSSetDimmedSELECTsVisibility(a,c){if(document.all){for(var d=document.getElementsByTagName("SELECT"),b=0;b<d.length;++b)d[b].style.display=c?"inline":"none";d=a.getElementsByTagName("SELECT");for(b=0;b<d.length;++b)d[b].style.display=c?"none":"inline"}}
function BSGetTextSelection(a){var c={};if(typeof a.selectionStart!="undefined")c.selectionStart=a.selectionStart,c.selectionEnd=a.selectionEnd;else{a.focus();var d=a.createTextRange();d.moveToBookmark(document.selection.createRange().getBookmark());for(var b=d.text.length,e=a.value,f=e.length,g=f-1;g>=0;--g){var h=e.charCodeAt(g);if(h==10||h==13)f--;else break}d.moveEnd("character",a.value.length);c.selectionStart=f-d.text.length;d.moveEnd("character",-d.text.length+b);c.selectionEnd=c.selectionStart+
b}return c}function BSTextAreaInsert(a,c){a.focus();var d=BSGetTextSelection(a),b=a.scrollTop;a.value=a.value.substring(0,d.selectionStart)+c+a.value.substring(d.selectionEnd,a.value.length);a.focus();a.scrollTop=b;if(typeof a.selectionStart!="undefined")b=d.selectionStart+c.length,a.selectionStart=b,a.selectionEnd=b;else{b=a.createTextRange();b.collapse();for(var e=d=d.selectionStart,f=0;f<e;++f)a.value.charCodeAt(f)==10&&d--;b.moveStart("character",d+c.length);b.select()}}
function BSTextAreaInsertMarks(a,c,d,b){a.focus();var e=BSGetTextSelection(a),f=false,g=d;e.selectionEnd-e.selectionStart&&(g=a.value.substring(e.selectionStart,e.selectionEnd),f=true);g=g.charAt(g.length-1)==" "?c+g.substring(0,g.length-1)+b+" ":c+g+b;b=a.scrollTop;a.value=a.value.substring(0,e.selectionStart)+g+a.value.substring(e.selectionEnd,a.value.length);a.focus();a.scrollTop=b;if(typeof a.selectionStart!="undefined")f?(c=e.selectionStart+g.length,a.selectionStart=c,a.selectionEnd=c):(a.selectionStart=
e.selectionStart+c.length,a.selectionEnd=a.selectionStart+d.length);else{b=a.createTextRange();b.collapse();for(var h=e=e.selectionStart,i=0;i<h;++i)a.value.charCodeAt(i)==10&&e--;f?b.moveStart("character",e+g.length):(b.moveStart("character",e+c.length),b.moveEnd("character",d.length));b.select()}}function BSGetPressedKeyCode(a){if(window.event)return a.keyCode;else if(a.which)return a.which}var DOMVirtualKeys="DOM_VK_UNDEFINED,DOM_VK_RIGHT_ALT,DOM_VK_LEFT_ALT,DOM_VK_LEFT_CONTROL,DOM_VK_RIGHT_CONTROL,DOM_VK_LEFT_SHIFT,DOM_VK_RIGHT_SHIFT,DOM_VK_LEFT_META,DOM_VK_RIGHT_META,DOM_VK_CAPS_LOCK,DOM_VK_DELETE,DOM_VK_END,DOM_VK_ENTER,DOM_VK_ESCAPE,DOM_VK_HOME,DOM_VK_INSERT,DOM_VK_NUM_LOCK,DOM_VK_PAUSE,DOM_VK_PRINTSCREEN,DOM_VK_SCROLL_LOCK,DOM_VK_LEFT,DOM_VK_RIGHT,DOM_VK_UP,DOM_VK_DOWN,DOM_VK_PAGE_DOWN,DOM_VK_PAGE_UP,DOM_VK_F1,DOM_VK_F2,DOM_VK_F3,DOM_VK_F4,DOM_VK_F5,DOM_VK_F6,DOM_VK_F7,DOM_VK_F8,DOM_VK_F9,DOM_VK_F10,DOM_VK_F11,DOM_VK_F12,DOM_VK_F13,DOM_VK_F14,DOM_VK_F15,DOM_VK_F16,DOM_VK_F17,DOM_VK_F18,DOM_VK_F19,DOM_VK_F20,DOM_VK_F21,DOM_VK_F22,DOM_VK_F23,DOM_VK_F24".split(",");
function BSGetPressedKey(a){var c={};if(typeof a.which!="undefined")c.charCode=a.which;else if(window.event)c.charCode=a.keyCode;else for(var d=0;d<DOMVirtualKeys.length;++d)if(a[DOMVirtualKeys[d]]==a.keyCode)c.vk=DOMVirtualKeys[d];return c}function BSGetElementTextNS(a,c,d){return(a=c.getElementsByTagName(a)[d])?a.childNodes.length>1?a.childNodes[1].nodeValue:a.firstChild?a.firstChild.nodeValue:"n/a":"n/a"}function BSGetTextContent(a){return a.textContent?a.textContent:a.innerText}
function BSReplaceOptions(a,c){if(a.outerHTML){var d=a.outerHTML,b=d.search(/<option/i);a.outerHTML=-1==b?d.replace(/<\/select>/i,c+"</select>"):d.substr(0,b)+c+"</select>"}else a.innerHTML=c}function BSBookmark(a,c,d){window.sidebar?window.sidebar.addPanel(c,d,""):window.opera?(a.setAttribute("href",d),a.setAttribute("title",c),a.setAttribute("rel","sidebar"),a.click()):document.all&&window.external.AddFavorite(d,c)}function BSBookmarkThis(a){BSBookmark(a,document.title,location.href)}
function BSGetMaxWidthProperty(){return document.all?"width":"max-width"}function BSAddSelectOption(a,c,d){var b=document.createElement("option");b.text=d;b.value=c;window.ActiveXObject?a.add(b):a.add(b,null)}function trim(a){for(var a=a.replace(/^\s+/,""),c=a.length-1;c>=0;c--)if(/\S/.test(a.charAt(c))){a=a.substring(0,c+1);break}return a}function leftpad(a,c,d){for(a=new String(a);a.length<d;)a=c+a;return a}
function String2Date(a){var c=new Date;if(typeof a=="string"){if(ret=TryString2Date(a),ret instanceof Date)return ret}else c=new Date(a);return c}function TryString2Date(a){var c=trim(a);if(a=c.match(/^(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})( BC$|$)/i))c=new Date(Number(a[1]),Number(a[2])-1,a[3],a[4],a[5],a[6]),a[7]==" BC"?c.setFullYear(1-Number(a[1])):c.setFullYear(a[1]);return c}
function Date2String(a){var c=a.getFullYear(),d=c<=0?" BC":"";c<=0&&(c=1-c);return leftpad(c,"0",4)+"-"+leftpad(a.getMonth()+1,"0",2)+"-"+leftpad(a.getDate(),"0",2)+" "+leftpad(a.getHours(),"0",2)+":"+leftpad(a.getMinutes(),"0",2)+":"+leftpad(a.getSeconds(),"0",2)+d}function BSDateParse(a){return String2Date(a)}
function BSInsertFlash(a,c,d){return document.all?'<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="'+a+'" height="'+c+'" id="'+d+'_chart" align="middle"><param name="allowScriptAccess" value="sameDomain" /><param name="wmode" value="opaque"/><param name="movie" value="/open-flash-chart.swf" /><param name="quality" value="high" /></object>':'<embed src="/open-flash-chart.swf" quality="high" bgcolor="#FFFFFF" width="'+
a+'" height="'+c+'" name="open-flash-chart" align="middle" allowScriptAccess="sameDomain" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" wmode="opaque"/>'}function BSIsSystemKey(a){return a.charCode==120||a.charCode==99||a.charCode==118};var BACK_SPACE_ASCII_CODE=8,ENTER_ASCII_CODE=13,TAB_ASCII_CODE=9;function DialogResult(){this.ok="DialogResultOK";this.cancel="DialogResultCancel"}function ShowWindow(a){(new DialogWorker(a)).OpenWindow()}function HideWindow(a){(new DialogWorker(a)).HideWindow()}function ShowDialog(a){(new DialogWorker(a)).Show()}function HideDialog(a){(new DialogWorker(a)).Hide()}function HideDialogForLoading(a){(new DialogWorker(a)).HideForLoading()}function SetDialogBusy(a){(new DialogWorker(a)).SetBusy()}
function SetDialogFree(a){(new DialogWorker(a)).SetFree()}function EnableLoadingImage(a,c){var d=BSGetWindowSize();PlaceLoadingImage(a,0,0,d.x,d.y,c)}function PlaceLoadingImage(a,c,d,b,e,f){var g=document.getElementById("loading_image");if(g){if(a)g.style.zIndex=f,g.style.left=c+b/2-g.style.width/2+"px",g.style.top=d+e/3-g.style.height/2+"px";g.style.display=a?"block":"none"}}
function DialogWorker(a){function c(a){a.style.display="block";a.style.position="absolute";a.style.zIndex=d++}var d=100,b=document.getElementById(a);this.OpenWindow=function(){c(b);b.style.left=document.documentElement.offsetWidth-b.offsetWidth+"px";b.style.top=document.documentElement.scrollTop+"px"};this.HideWindow=function(){b.style.display="none"};this.Show=function(){var a=BSGetScroll(),f=document.body,g=document.createElement("div");f.insertBefore(g,f.firstChild);f=f.firstChild;f.style.overflow=
"hidden";if(f.style.overflowX)f.style.overflowX="hidden";if(f.style.overflowY)f.style.overflowY="hidden";document.body.scroll="no";if(document.body.scroll)f.scroll="no";g.setAttribute("id","dimmer");g.style.display="block";g.style.position="absolute";g.style.top="0";g.style.left="0";g.style.zIndex=d++;g.style.width="100%";f=BSGetPageSize();g.style.height=f.ypx;c(b);b.style.left=(document.documentElement.offsetWidth-b.offsetWidth)/2+"px";var g=BSGetWindowSize(),f=BSGetScroll(),h=b.offsetHeight;b.style.top=
Math.floor(h>g.y?0:(g.y-h)/2+f.y)+"px";BSSetDimmedSELECTsVisibility(b,false);EnableLoadingImage(false);BSSetScroll(a)};this.Hide=function(){var a=document.body;a.removeChild(a.firstChild);b.style.display="none";BSSetDimmedSELECTsVisibility(b,true);EnableLoadingImage(false)};this.HideForLoading=function(){b.style.display="none";EnableLoadingImage(true,d+10)};this.SetBusy=function(){var a=document.body,c=document.createElement("div");a.insertBefore(c,a.firstChild);c.setAttribute("id","dimmer");c.style.display=
"block";c.style.position="absolute";var a=b,g=curtop=0;if(a.offsetParent){do g+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent)}a=[g,curtop];c.style.left=a[0]+"px";c.style.top=a[1]+"px";c.style.width=b.offsetWidth+"px";c.style.height=b.offsetHeight+"px";c.style.zIndex=d++;PlaceLoadingImage(true,a[0],a[1],b.offsetWidth,b.offsetHeight,d+10)};this.SetFree=function(){var a=document.body;a.removeChild(a.firstChild);PlaceLoadingImage(false)}}
function GetSelectOptionsAsArray(a){for(var a=a.childNodes,c=[],d=0;d<a.length;++d){var b=a[d];if("OPTION"==b.nodeName)c[c.length]=b.value,c[c.length]=b.firstChild.nodeValue}return c}
function ElementAccessorRadio(){this.GetElement=function(){return document.getElementById(this.id+"0")};this.GetValue=function(){for(var a=0;;){var c=document.getElementById(this.id+a++);if(!c)break;if(c.checked)return c.value}};this.ResetValue=function(){for(;;){var a=document.getElementById(this.id+index++);if(!a)break;if(a.defaultChecked)a.checked=true}};this.SetValue=function(a){for(var c=0;;){var d=document.getElementById(this.id+c++);if(!d)break;d.checked=d.value==a}};this.GetParent=function(){return this.GetElement().parentNode.parentNode}}
function ElementAccessorCheckbox(){this.GetElement=function(){return document.getElementById(this.id)};this.ResetValue=function(){var a=this.GetElement();a.checked=a.defaultChecked};this.GetValue=function(){return this.GetElement().checked?1:0};this.SetValue=function(a){this.GetElement().checked=a?1:0};this.GetParent=function(){return this.GetElement().parentNode.parentNode}}
function ElementAccessorDefault(){this.GetElement=function(){return document.getElementById(this.id)};this.GetValue=function(){return this.GetRawValue()};this.GetRawValue=function(){return this.GetElement().value};this.ResetValue=function(){var a=this.GetElement();a.value=a.defaultValue};this.SetValue=function(a){var c=this.GetElement();typeof c.type=="undefined"?c.innerHTML=a:c.value=a};this.GetParent=function(){return this.GetElement().parentNode}}
function ElementAccessorInputImage(){this.inheritFrom=ElementAccessorDefault;this.inheritFrom();this.GetParent=function(){return this.GetElement().parentNode.parentNode};this.GetRawValue=function(){return $(this.GetElement()).data("value")};this.SetValue=function(a){var c=$(this.GetElement());c.data("value",a);!a||a==""?(c.hide(),c.parent().find("span").show()):(c.attr("src",a+"_thumb.png"),c.parent().find("span").hide())}}
function ElementAccessorSvg(){function a(c,d){for(var b in d){var e=d[b];switch(Object.prototype.toString.call(e)){case "[object Array]":for(var f=c.find(b),g=0;g<e.length;++g)a($(f.get(g)),e[g]);break;case "[object String]":case "[object Number]":b=="__text"?c.text(e):c.attr(b,e);break;default:a(c.find(b),e)}}}this.inheritFrom=ElementAccessorDefault;this.inheritFrom();this.GetParent=function(){return this.GetElement()};this.GetRawValue=function(){return $(this.GetElement())};this.SetValue=function(c){var d=
$(this.GetElement()),b;for(b in c){var e=d.find("#"+b);a(e,c[b])}}}function ElementAccessorOutput(){this.inheritFrom=ElementAccessorDefault;this.inheritFrom();this.GetRawValue=function(){var a=this.GetElement();return typeof a.type=="undefined"?a.innerHTML:a.value}}function ElementAccessorNumber(){this.inheritFrom=ElementAccessorDefault;this.inheritFrom();this.GetValue=function(){return Number(this.GetElement().value.replace(",","."))}}
function ElementAccessorImage(){this.inheritFrom=ElementAccessorDefault;this.inheritFrom();this.GetRawValue=function(){return this.GetElement().src};this.ResetValue=function(){};this.SetValue=function(a){this.GetElement().src=a}}
function ElementAccessorCalculator(){this.inheritFrom=ElementAccessorDefault;this.inheritFrom();this.GetParent=function(){return this.GetElement()};this.GetRawValue=function(){return eval("("+this.id+")").GetValues()};this.ResetValue=function(){};this.SetValue=function(a){eval("("+this.id+")").SetValues(a)}}
function ElementAccessorSelect(){this.GetElement=function(){return document.getElementById(this.id)};this.GetValue=function(){return this.GetElement().value};this.ResetValue=function(){for(var a=this.GetElement(),c=0;c<a.options.length;++c){var d=a.options[c];if(d.defaultSelected){this.SetValue(d.value);return}}a.options.length&&this.SetValue(a.options[0].value)};this.SetValue=function(a){for(var c=this.GetElement(),d="",b=false,e=0;e<c.options.length;++e){var f=c.options[e];if(f.value==a){b=true;
break}else if(f.text==a)d=f.value}if(b)c.value=a;else if(d!="")c.value=d};this.GetParent=function(){return this.GetElement().parentNode}}function FilterAccessor(a,c){this.GetElement=function(){return a.GetElement()};this.GetValue=function(){return a.GetValue()};this.ResetValue=function(){a.ResetValue()};this.SetValue=function(c){a.SetValue(c)};this.GetParent=function(){return a.GetParent()};this.Filter=function(a){var b=this.GetValue();return!b||b==""?true:a[c]==b}}
function ElementAccessorDate(){function a(a){for(;a.options.length;)a.remove(0)}this.YearsGap=100;this.CenturyGap=25;this.GetElement=function(){return document.getElementById(this.id)};this.GetControls=function(){return{d:document.getElementById(this.id+"_day"),m:document.getElementById(this.id+"_month"),y:document.getElementById(this.id+"_year"),c:document.getElementById(this.id+"_century"),h:document.getElementById(this.id+"_hour"),n:document.getElementById(this.id+"_minute")}};this.GetValue=function(){var a=
this.GetControls(),d=a.y?a.y.value:a.c?a.c.value:0,b=new Date(d,a.m?a.m.value:0,a.d?a.d.value:1,a.h?a.h.value:0,a.n?a.n.value:0);a.m&&b.getMonth()!=a.m.value&&b.setMonth(a.m.value);b.setFullYear(d);return b};this.ResetValue=function(){this.SetValue(eval(this.id+"_init"))};this.SetValue=function(a){var a=new Date(String2Date(a)),d=this.GetControls(),b=d.m,e=a.getMonth();if(b)b.value=e;b=d.d;e=a.getDate();if(b)b.value=e;b=d.h;e=a.getHours();if(b)b.value=e;d=d.n;b=a.getMinutes();if(d)d.value=b;this.UpdateY(a);
this.UpdateD(a)};this.GetParent=function(){return this.GetElement().parentNode};this.UpdateY=function(c){var d=this.GetControls(),b=document.getElementById("b_c"),b=b?" "+b.innerHTML:"";if(d.y){a(d.y);for(var e=-this.YearsGap;e<=this.YearsGap;++e){var f=c.getFullYear()+e,g=f;f<=0&&(g=1-f+b);BSAddSelectOption(d.y,f,g)}d.y.value=c.getFullYear()}if(d.c){a(d.c);for(var c=c.getFullYear(),h=document.getElementById("Nth_century").innerHTML,e=-this.CenturyGap;e<=this.CenturyGap;++e)f=c+e*100,g=Math.floor((f-
1)/100),g=g>=0?h.replace("%1",g+1):h.replace("%1",-g)+b,BSAddSelectOption(d.c,f,g);d.c.value=c}};this.UpdateD=function(c){var d=this.GetControls();if(d.d){a(d.d);for(var b=1;b<=31;++b){var e=new Date(c);e.setDate(b);if(c.getMonth()!=e.getMonth())break;BSAddSelectOption(d.d,b,document.getElementById("dow_"+e.getDay()).innerHTML+", "+b)}d.d.value=c.getDate()}};this.Initialize=function(c){var d=this.GetControls();if(d.h){a(d.h);for(var b=0;b<24;++b)BSAddSelectOption(d.h,b,b);d.h.value=c.getHours()}if(d.n){a(d.n);
for(b=0;b<60;++b)BSAddSelectOption(d.n,b,(b<10?"0":"")+b);d.n.value=c.getMinutes()}if(d.m){a(d.m);for(b=0;b<12;++b)BSAddSelectOption(d.m,b,document.getElementById("mon_"+b).innerHTML);d.m.value=c.getMonth()}this.UpdateY(c);this.UpdateD(c)}}
function ElementAccessorDynamicSelect(a,c,d,b,e,f,g){if(a)this.URL="http://"+BSGetDataSourceDomain()+a;this.PatchDefaultValue=function(a){if(typeof a=="object")return a;var b='({"'+this.pkFieldName+'" : ',c=typeof a=="string"?'"':"";b+=c+a+c;b+="})";eval(b);return eval(b)};this.params=c;this.fieldid=d;this.pkFieldName=""==e?d:e;this.initialvalue=this.currentvalue=this.PatchDefaultValue(b);this.valuesarray=[];this.sort=g;this.m_handlerVarName=f;this.URL&&BSMakePOSTRequest(this.URL,this,this.params);
this.SetParams=function(a){this.params=a;this.URL&&BSMakePOSTRequest(this.URL,this,this.params)};this.Query=function(a,b){this.params=b;this.URL="http://"+BSGetDataSourceDomain()+a;BSMakePOSTRequest(this.URL,this,this.params)};this.OnResponse=function(a){if(this.sort){var b=new Recordset;b.LoadFromArray(a);b.SortAsc(this.fieldid);this.valuesarray=b.GetRecordArray()}else this.valuesarray=a;for(var a="",c=b=false,d=0;d<this.valuesarray.length;++d){var e=this.valuesarray[d],f="";this.currentvalue[this.pkFieldName]==
e[this.pkFieldName]?(f='selected="selected"',b=true):!b&&this.currentvalue[this.pkFieldName]==e[this.fieldid]&&(f="%selectedbyname%",c=true);a+='<OPTION VALUE="'+d+'" '+f+">"+e[this.fieldid]+"</OPTION>"}c&&(a=a.replace("%selectedbyname%",b?"":'selected="selected"'));if(a.length&&(BSReplaceOptions(this.GetElement(),a),eval(this.m_handlerVarName)))this.GetElement().onchange()};this.GetElement=function(){return document.getElementById(this.id)};this.ResetValue=function(){this.SetValue(this.initialvalue)};
this.GetValue=function(){var a=this.GetElement().value;return void 0!=this.valuesarray[a]?this.valuesarray[a]:""};this.SetValue=function(a){if(typeof this.GetElement().type!="undefined")this.currentvalue=this.PatchDefaultValue(a),void 0!=this.valuesarray[a]?this.OnResponse(this.valuesarray):this.URL&&BSMakePOSTRequest(this.URL,this,this.params)};this.GetParent=function(){return this.GetElement().parentNode}}
function ElementAccessorSelectHandbook(a,c,d,b,e,f,g,h,i,j){if(a)this.URL="http://"+BSGetDataSourceDomain()+a;this.PatchDefaultValue=function(a){if(typeof a=="object")return a;var b='({"'+this.pkFieldName+'" : ',c=typeof a=="string"?'"':"";b+=c+a+c;b+="})";eval(b);return eval(b)};this.created=false;this.params=c;this.fieldid=d;this.pkFieldName=""==e?d:e;this.initialvalue=this.currentvalue=this.PatchDefaultValue(b);this.valuesarray=[];this.sort=g;this.m_handlerVarName=f;this.filter=new function(){this.filter=
function(){return true}};if(this.URL){var k=this;$(function(){BSMakePOSTRequest(k.URL,k,k.params)})}this.SetFilter=function(a){this.filter=a};this.SetParams=function(a){this.params=a;this.URL&&BSMakePOSTRequest(this.URL,this,this.params)};this.Query=function(a,b){this.params=b;this.URL="http://"+BSGetDataSourceDomain()+a;BSMakePOSTRequest(this.URL,this,this.params)};this.OnResponse=function(a){if(this.sort){var b=new Recordset;b.LoadFromArray(a);b.SortAsc(this.fieldid);this.valuesarray=b.GetRecordArray()}else this.valuesarray=
a;this.Refresh()};this.Refresh=function(){for(var a="",b=false,c=false,d=0;d<this.valuesarray.length;++d){var e=this.valuesarray[d];if(this.filter.filter(e)){var f="";this.currentvalue[this.pkFieldName]==e[this.pkFieldName]?(f='selected="selected"',b=true):!b&&this.currentvalue[this.pkFieldName]==e[this.fieldid]&&(f="%selectedbyname%",c=true);i&&(f+='  data-imagesrc="'+e[i]+'_thumb.png"');if(j){var g=j,h;for(h in e)g=g.replace(RegExp("%"+h+"%","g"),e[h]);f+=' data-description="'+g.replace(/"/g,"'")+
'"'}a+='<OPTION VALUE="'+d+'" '+f+">"+e[this.fieldid]+"</OPTION>"}}c&&(a=a.replace("%selectedbyname%",b?"":'selected="selected"'));$(this.GetElement()).ddslick("destroy");BSReplaceOptions(this.GetElement(),a);if(eval(this.m_handlerVarName))this.GetElement().onchange();$(this.GetElement()).ddslick({})};this.GetElement=function(){return document.getElementById(this.id)};this.ResetValue=function(){this.SetValue(this.initialvalue)};this.GetValue=function(){var a=$(this.GetElement()).data("ddslick");return!a||
a.selectedIndex<0?null:this.valuesarray[a.selectedData.value]};this.SetValue=function(a){if(typeof this.GetElement().type!="undefined")this.currentvalue=this.PatchDefaultValue(a),void 0!=this.valuesarray[a]?this.OnResponse(this.valuesarray):this.URL&&BSMakePOSTRequest(this.URL,this,this.params)};this.GetParent=function(){return this.GetElement().parentNode.parentNode}}
function ElementAccessorInputTable(a){this.GetElement=function(){return document.getElementById(this.id)};this.GetRecordset=function(){return eval(a+".Recordset")};this.GetValue=function(){return this.GetRecordset().GetRecordArray()};this.ResetValue=function(){return this.GetRecordset().Clear()};this.SetValue=function(c){this.ResetValue();this.GetRecordset().LoadFromArray(c);eval(a+".Refresh();")}}
function ElementAccessorPrecision(){this.GetElement=function(){return document.getElementById(this.id)};this.ResetValue=function(){};this.GetValue=function(){return PCF.getCalcPrecision()};this.SetValue=function(a){PCF.setCalcPrecision(a)};this.GetParent=function(){return this.GetElement().parentNode}}
function ElementAccessorResource(){this.GetElement=function(){return document.getElementById(this.id)};this.ResetValue=function(){};this.GetValue=function(){return eval("("+this.id+"_data)")};this.SetValue=function(){};this.GetParent=function(){return this.GetElement().parentNode}}
function ElementAccessorDegrees(){this.GetElement=function(){return document.getElementById(this.id)};this.ResetValue=function(){this.SetValue(document.getElementById(this.id+"_value").defaultValue)};this.GetValue=function(){var a=document.getElementById(this.id+"_value");return Number(a.value)};this.SetValue=function(a){this.SetDegreesValue(a)};this.SetDegreesValue=function(a){document.getElementById(this.id+"_value").value=a;var a=Number(a),c="";a<0&&(a=-a,c="-");document.getElementById(this.id+
"_sec").value=Math.floor(a*3600)%60;document.getElementById(this.id+"_min").value=Math.floor(a*60)%60;document.getElementById(this.id+"_deg").value=c+Math.floor(Number(a))};this.GetParent=function(){return this.GetElement().parentNode}}
function ElementAccessorCoordinate(){this.inheritFrom=ElementAccessorDegrees;this.inheritFrom();this.SetValue=function(a){var c=Number(a);document.getElementById(this.id+"_side1").checked=c>=0;document.getElementById(this.id+"_side2").checked=c<0;c<0&&(c=-c);this.SetDegreesValue(c);document.getElementById(this.id+"_value").value=a}}
function CookieParameters(){function a(a){return a.replace(/^[\s\t]+/,"").replace(/[\s\t]+$/,"")}this.Parameters={};this.SetParameter=function(a,b){this.Parameters[a]=b};for(var c=document.cookie.split(";"),d=0;d<c.length;++d){var b=c[d].split("="),e=a(b[0]);if("field_"==e.substring(0,6)){var e=e.substring(6),f="";b.length>1&&(f=a(b[1]));this.SetParameter(e,f)}}c=new Date;c.setTime(c.getTime()+2592E6);this.expires="expires="+c.toGMTString();this.Save=function(){for(var a in this.Parameters)document.cookie=
"field_"+a+"="+this.Parameters[a]+";"+this.expires}}function getControlValueAfterChange(a,c){var d=BSGetTextSelection(c),b=c.value,e=b.substring(0,d.selectionStart);a.charCode==BACK_SPACE_ASCII_CODE?e.length&&(e=e.substring(0,e.length-1)):a.charCode&&(e+=String.fromCharCode(a.charCode));e+=b.substring(d.selectionEnd,b.length);return e}
function handleOnKeyPressed(a,c,d,b){var e=BSGetPressedKey(a);if(typeof e=="undefined"||e.charCode==BACK_SPACE_ASCII_CODE||e.charCode==ENTER_ASCII_CODE||e.charCode==TAB_ASCII_CODE||e.charCode==0||BSIsSystemKey(e))return true;e=getControlValueAfterChange(e,c);return showOrClearError(c,d.Validate(e),b)?true:BSPreventDefaultAction(a)}
function DialogInput(a,c,d,b){this.id=a;this.dialog=c;this.validator=d;this.formatter=null;this.elementAccessor=b;this.elementAccessor.id=c.GetElement().id+"_"+this.id;var e=null,f=false;this.GetElement=function(){return this.elementAccessor.GetElement()};this.GetElementAccessor=function(){return this.elementAccessor};this.ResetValue=function(){this.elementAccessor.ResetValue()};this.SetValue=function(a){if(this.formatter&&this.formatter instanceof FormatterFormula){var c=this.formatter.FormatSimple(a);
f?e&&MathJax.Hub.queue.Push(["Text",e,"\\displaystyle{"+c+"}"]):(b.SetValue('<script type="math/tex"><\/script>'),MathJax.Hub.queue.Push(function(){e=MathJax.Hub.getAllJax(b.id)[0];MathJax.Hub.queue.Push(["Text",e,"\\displaystyle{"+c+"}"])}),f=true)}else c=this.formatter?this.formatter.Format(a):a,this.elementAccessor.SetValue(c)};this.GetValue=function(){return this.elementAccessor.GetValue()};this.GetElementToShow=function(){var a=this.elementAccessor.GetElement();if(a.className.indexOf("fieldset")!=
-1)return a;if(a.className.indexOf("control-group")!=-1)return a;if(a.className.indexOf("placeholder")!=-1)return a;if(a.className.indexOf("controls")!=-1)return a.parentNode;var b=a.parentNode.parentNode.parentNode;if(b.className.indexOf("control-composite")!=-1)return b;b=a.parentNode.parentNode;return b.className.indexOf("control-group")!=-1?b:a.type=="radio"?b.parentNode:this.elementAccessor.GetParent()};this.Show=function(){return this.GetElementToShow().style.display="block"};this.Hide=function(){return this.GetElementToShow().style.display=
"none"};this.ShowError=function(a){return this.dialog.ShowError(this.GetElement(),a)};this.ClearError=function(){return clearError(this.GetElement())};this.ShowOrClearError=function(a){if(a=="")return clearError(this.GetElement()),true;this.ShowError(a);return false};this.Validate=function(){return this.validator?this.ShowOrClearError(this.validator.Validate(this.elementAccessor.GetRawValue?this.elementAccessor.GetRawValue():this.elementAccessor.GetValue())):true};this.ValidateCurrent=function(){return this.validator?
this.Validate(this.GetValue()):true};this.GetOptions=function(){return GetSelectOptionsAsArray(this.GetElement())};this.Load=function(a){var b=this.GetElement().name;b&&(a=a[b],typeof a!="undefined"&&this.SetValue(a))}};function HTTPParameters(){this.Parameters={};this.SetParameter=function(a,b){this.Parameters[a]=b};var a=(new String(document.URL)).split("?");if(a.length>1)for(var a=a[1].split("&"),c=0;c<a.length;++c){var d=a[c].split("="),b="";d.length==2&&(b=d[1]);this.SetParameter(d[0],decodeURIComponent(b))}}
function SaveObjectToURLParams(a){var c="",d;for(d in a){var b=a[d];typeof b=="object"&&(b=Value2Json(b,true));typeof b!="undefined"&&(c+="&"+d+"="+encodeURIComponent(b))}return c.length?c.substring(1):c}
var PSS=typeof PSS=="object"?PSS:function(){var a=new function(){this.Parameters={};this.SetParameter=function(a,b){this.Parameters[a]=b};var a=(new String(document.URL)).split("?");if(a.length>1)for(var a=a[1].split("&"),d=0;d<a.length;++d){var b=a[d].split("="),e="";b.length==2&&(e=b[1]);this.SetParameter(b[0],decodeURIComponent(e))}};return{LoadInput:function(c,d,b,e){if(a.Parameters[d])b.SetValue(a.Parameters[d]);else{if(window.CalculatorData&&(c=window.CalculatorData["id"+c])){d=c[d];typeof d!=
"undefined"&&b.SetValue(d);return}typeof e!="undefined"&&b.SetValue(e)}},SaveInput:function(){}}}();var PCF=function(){function a(b,c){if(b.childNodes)for(var d in b.childNodes){var h=b.childNodes[d];if(h.nodeType==1){var i=h.getAttribute("data-precision");i===""||i===null?a(h,c):c(h,Number(i))}}}var c,d=[],b=[];return{advisePrecisionmeter:function(e,f,g){typeof c=="undefined"&&(c=f);d[d.length]=e;b[b.length]=g;a(e,function(a,b){BSAdviseEvent(a,"click",PCF.changeCalcPrecision,b)});a(e,function(a,b){if(b!="Plus"&&b!="Minus")a.className=Number(b)<=f?"selected":""})},getMaxPrecision:function(){return 20},
getCalcPrecision:function(){return c},setCalcPrecision:function(a){c=a},format:function(a){for(var b=a,d=1;d<arguments.length;++d){var h=arguments[d];typeof h=="number"&&typeof c!="undefined"&&Math.round(h)!=h&&(h=h.toFixed(c));b=b.replace("%"+d,h)}return b},changeCalcPrecision:function(e){var f=Number(c);e=="Plus"?f<PCF.getMaxPrecision()&&(f+=1):e=="Minus"?f>0&&(f-=1):f=Number(e);c=f;for(e=0;e<d.length;++e){var f=d[e],g=eval(b[e]);a(f,function(a,b){if(b!="Plus"&&b!="Minus")a.className=Number(b)<=
c?"selected":""});g.onchanged("precisionmeter")}}}}();function GetDateParts(a){return[a.getFullYear(),a.getMonth()+1,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()]}
function FormatDate(a,c){if(c=="0000-00-00 00:00:00"||!c)return"";var d=typeof c=="string"?String2Date(c):new Date(c),b=6;a.search("%8")==-1?b=4:a.search("%9")==-1&&(b=5);var b=GetDateParts(d,b),e=b[0]<=0?" "+getFormattedMessage("b_c"):"";b[0]<=0&&(b[0]=1-b[0]);d=getFormattedMessage("Nth_century",Math.ceil(d.getFullYear()/100))+e;return formatMessage(a,leftpad(b[0],"0",4),leftpad(b[1],"0",2),leftpad(b[2],"0",2),e,d,leftpad(b[3],"0",2),leftpad(b[4],"0",2),leftpad(b[5],"0",2),leftpad(b[6],"0",3))}
function FormatAbsDegrees(a){a<0&&(a=-a);var c=Math.floor(a)+"&#176;";if(a=Math.round((a-Math.floor(a))*3600))c=c+Math.floor(a/60)+"'",a%60&&(c=c+a%60+'"');return c}function FormatterDegrees(){this.Format=function(a){a=Number(a);return(a<0?"-":"")+FormatAbsDegrees(a)}}function FormatterCoordinate(a){var c=a=="lat"?["latitudeN","latitudeS"]:["longitudeE","longitudeW"];this.Format=function(a){var a=Number(a),b=getFormattedMessage(c[a<0?1:0]);return FormatAbsDegrees(a)+" "+b}}
function FormatterDate(){this.Format=function(a){return FormatDate("date_format",a)}}function FormatterBoolean(){this.Format=function(a){return getFormattedMessage(a?"yes":"no")}}function FormatterDateFlags(a){var c=getFormattedMessage("date_format"),d=getFormattedMessage("date_time_format"),b=["",c,"%6:%7",d,"%5","%5 "+c,"%5 %6:%7","%5 "+d];this.Format=function(c){return FormatDate(b[a],c)}}
function FormatterImage(a){this.Format=function(c){return c&&c!=""?'<img src="'+c+'" alt="'+a+'" title="'+a+'"/>':""}}function FormatterSimpleURL(){this.Format=function(a){if(a!=""){var c=a;c.substr(0,4)!="http"&&(c="http://"+c);return'<a href="'+c+'" />'+a+"</a>"}return""}}
function FormatterDateOnly(){this.Format=function(a){if(a=="0000-00-00 00:00:00"||!a)return"";else{var a=String2Date(a),c=a.getTime();c-=6E4*a.getTimezoneOffset();a.setTime(c);return a.getFullYear()+"."+(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"."+a.getDate()}}}
function FormatterTimeSpan(){function a(a,d){var b=d=Number(d).toFixed(0);if(d>=10&&d<=20)return getFormattedMessage(a+"1X_ago",d);else d>20&&(b=d%10);return getFormattedMessage(a+b.toString()+"_ago",d)}this.Format=function(c){if(c=="0000-00-00 00:00:00"||!c)return"";else{var c=String2Date(c),d=c.getTime();d-=6E4*c.getTimezoneOffset();c.setTime(d);c=c.getTime();c=(new Date).getTime()-c;c<0&&(c=0);return c<36E5?a("N_minute_",c/6E4):c<864E5?a("N_hour_",c/36E5):c<26784E5?a("N_day_",c/864E5):c<321408E5?
a("N_month_",c/26784E5):a("N_year_",c/321408E5)}}}function FormatterMap(a){for(var c=[],d=0;d<a.length;d+=2)c[a[d]]=a[d+1];this.Format=function(a){a=c[a];return typeof a=="undefined"?"":a}}function DoubleFormatterMap(a){for(var c=[],d=0;d<a.length;d+=2)c[a[d]]=a[d+1];this.Formatter=new FormatterSame;this.Format=function(a){a=c[a];return typeof a=="undefined"?"":this.Formatter.Format(a)}}function FormatterLabel(a){this.Format=function(){return a}}
function FormatterPrefix(a,c){this.Format=function(d){return a+(c!=null?c.Format(d):d)}}function FormatterEmptyLabel(a){this.Format=function(c){return typeof c=="undefined"?a:c}}function FormatterSame(){this.Format=function(a){return a}}
function FormatterNumber(a){this.Format=function(c){if(c==Infinity||c==-Infinity)return c==-Infinity?"-":"&#8734;";var c=new Number(c),d=a;d&&(d=PCF.getCalcPrecision(),typeof d=="undefined"&&(d=a));for(var b=0;b<d;++b)if(Number(c.toFixed(b).toString())==c)break;return c.toFixed(b)}}function FormatterPersent(a){this.Format=function(c){return(c*100).toFixed(a)}}
function FormatterMatrix(a){this.Format=function(c){for(var d='<table class="table table-bordered">',b=0;b<c.length;++b){var e=c[b];d+="<tr>";for(var f=0;f<e.length;++f){var g=e[f];d+="<td>";if(isNaN(g)||typeof g!="number")d+=g;else{var g=new Number(g),h=a;h&&(h=PCF.getCalcPrecision(),typeof h=="undefined"&&(h=a));for(var i=0;i<h;++i)if(Number(g.toFixed(i).toString())==g)break;d+=g.toFixed(i)}d+="</td>"}d+="</tr>"}d+="</table>";return d}}
function FormatterFormula(){this.Reset=function(){this.data={}};this.Format=function(a){a=this.FormatSimple(a);return!a||a==""?"":'<script type="math/tex">'+a+"<\/script>"};this.FormatSimple=function(a){a=typeof a=="object"?PCM.getTeX(a):a;return a!=""?a:""};this.PostRender=function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub])}};function ForumsRenderer(a,c){function d(a,b){return'<p class="'+a+'">'+b+"</p>"}this.inheritFrom=RecordsetRenderer;this.inheritFrom(a,c);var b=this;this.GetEmptyLines=function(){return""};this.CreateTableHeader=function(){return""};this.CreateRowData=function(a,c){var g="<tr>";g+='<td class="forum_summary">';g+=d("name",b.Header.GetFormatter("name")?b.Header.GetFormatter("name").Format("name",c):c.name);g+=d("nickname",b.Header.GetFormatter("nickname")?b.Header.GetFormatter("nickname").Format("nickname",
c):c.nickname);g+=d("open_forum",b.Header.GetFormatter("openForum")?b.Header.GetFormatter("openForum").Format("openForum",c):c.openForum);g+=d("items",b.Header.GetFormatter("items")?b.Header.GetFormatter("items").Format("items",c):c.items);c.items>0&&(g+=d("latest",b.Header.GetFormatter("latest")?b.Header.GetFormatter("latest").Format("latest",c):c.latest));g+="</td>";g+="</tr>";return g}};function ForumTopicsRenderer(a,c){function d(a,b){return'<span class="'+a+'">'+b+"</span>"}this.inheritFrom=RecordsetRenderer;this.inheritFrom(a,c);var b=this;this.GetEmptyLines=function(){return""};this.CreateTableHeader=function(){return""};this.CreateRowData=function(a,c){var g="<tr>";g+='<td class="comment_created">';g+=d("comment_posted",b.Header.GetFormatter("posted")?b.Header.GetFormatter("posted").Format("posted",c):c.posted);b.Header.GetFormatter("spamVotes")&&(g+='<span class="spam_control">',
b.Header.GetFormatter("spamClose")&&(g+=b.Header.GetFormatter("spamClose").Format("spamClose",c),g+=" "),b.Header.GetFormatter("spamDelete")&&(g+=b.Header.GetFormatter("spamDelete").Format("spamDelete",c),g+=" "),g+=b.Header.GetFormatter("spamControl").Format("spamControl",c)+" "+c.spamVotes+"/"+c.spamLimit,g+="</span>");g+="</td>";g+="</tr>";g+='<tr class="comment_data warning">';g+='<td class="message">';g+='<p class="message">'+c.message+"</p>";g+='<p class="topic_summary">';g+=d("open_topic",
b.Header.GetFormatter("openTopic")?b.Header.GetFormatter("openTopic").Format("openTopic",c):c.openTopic);g+=d("replies",b.Header.GetFormatter("replies")?b.Header.GetFormatter("replies").Format("replies",c):c.replies);g+=" ";c.replies>0&&(g+=d("latest_reply",b.Header.GetFormatter("latest_reply")?b.Header.GetFormatter("latest_reply").Format("latest_reply",c):c.latest_reply));g+="</p>";g+="</td>";g+="</tr>";return g}};function ValidatorNonempty(){this.Validate=function(a){return a==""?getFormattedMessage("err_must_be_not_empty"):""}}function ValidatorEmail(){this.Validate=function(a){return a.indexOf("@")==-1?getFormattedMessage("err_invalid_email",a):""}}function ValidatorEqual(a,c){this.Validate=function(d){return a.value!=d?getFormattedMessage("err_must_be_the_same_as",c):""}}
function ValidatorTextSize(a,c){this.Validate=function(d){d=d.length;if(d<a)return getFormattedMessage("err_must_be_at_least_x_chars_long",a);else if(d>c)return getFormattedMessage("err_must_be_less_or_equal_x_chars",c);return""}}function ValidatorCharset(a){this.Validate=function(c){for(var d=0;d<c.length;++d){var b=c.substring(d,d+1);if(a.indexOf(b)==-1)return getFormattedMessage("err_invalid_symbol",a)}return""}}
function ValidatorComplex(){var a=arguments;this.Validate=function(c){for(var d="",b=0;b<a.length;++b){var e=a[b].Validate(c);e!=""&&(d!=""&&(d+="<br/>"),d+=e)}return d}}
function ValidatorImport(){var a=arguments,c=null,d=0,b=0;this.ParseData=function(e,f){c=null;b=d=0;var g="\r\n";f.search(g)==-1&&(g="\n");g=f.split(g);if(!g.length)return"";if(a.length>1){a:{for(var h=g[0],i=a.length,j=["\t",";",","],k=0;k<j.length;++k){var l=j[k];if(h.split(l).length==i){c=l;break a}}c=null}if(!c)return getFormattedMessage("err_import_cannot_find_separator")}for(h=0;h<g.length;++h)if(i=[],j=g[h],c?i=j.split(c):i[0]=j,++d,i=e.ProcessRow(i),i!="")return i;return""};this.Validate=
function(a){return this.ParseData(this,a)};this.ProcessRow=function(c){for(b=0;b<a.length;++b){var f=a[b];if(f){var g=c[b],f=f.Validate(g);if(f!="")return getFormattedMessage("err_import_error",d,g,f)}}return""}}function removeInvalidDigits(a,c,d){for(var b=false,e="",f=0;f<a.length;++f){var g=a.substring(f,f+1);if("0123456789+-*/".indexOf(g)==-1)if(g=="-")c&&f==0&&(e+=g);else{if((g=="."||g==",")&&d&&f!=0&&!b)b=true,e+=g}else e+=g}return e}
function ValidatorNumber(a,c){this.Validate=function(d){return d!=""&&removeInvalidDigits(d,a,c)!=d?a&&c?getFormattedMessage("err_invalid_number"):!a&&c?getFormattedMessage("err_invalid_positive_number"):a&&!c?getFormattedMessage("err_invalid_integer_number"):getFormattedMessage("err_invalid_integer_positive_number"):""}}function ValidatorRange(a,c){this.Validate=function(d){d=Number(d);return d<a||d>c?getFormattedMessage("err_range_error",a,c):""}}
function ValidatorFirstAlpha(){this.Validate=function(a){return a.length&&(a=a.substring(0,1),a>="a"&&a<="z"||a>="A"&&a<="Z")?"":getFormattedMessage("err_first_char_must_be_alpha")}}
function ValidatorCalculatorScript(a){this.Prohibited=[];for(var c=1;c<arguments.length;++c)this.Prohibited[c-1]=arguments[c];this.Validate=function(c){for(var c=a+c+"}",b=0;b<this.Prohibited.length;++b){var e=this.Prohibited[b];if(c.indexOf(e)!=-1)return getFormattedMessage("err_prohibited_features",e)}try{eval(c)}catch(f){return getFormattedMessage("err_script_compilation_error",f.message)}return""}}
function ValidatorUpload(a){var c=a.toLowerCase().split(",");this.Validate=function(d){if(!d||d=="")return"";var b=d.lastIndexOf(".");if(b!=-1){d=d.substr(b+1).toLowerCase();for(b=0;b<c.length;++b)if(d==c[b])return""}return getFormattedMessage("err_invalid_upload_extension",a)}};var hideSubmenu={};function SetMenuStyle(a,c,d){document.getElementById(a+"_p").className=d;document.getElementById(a).style.display=c}function ShowSubmenu(a){hideSubmenu[a]&&(hideSubmenu[a]=false);SetMenuStyle(a,"block","msubitem_s")}function HideSubmenu(a){hideSubmenu[a]=true;setTimeout('DoHideSubmenu("'+a+'")',300)}function DoHideSubmenu(a){hideSubmenu[a]&&(hideSubmenu[a]=false,SetMenuStyle(a,"none","msubitem"))};function formatMessage(a){for(var c=new String(a),d=1;d<arguments.length;++d)c=c.replace("%"+d.toString(),arguments[d]);return c}function getFormattedMessage(a){var c=document.getElementById(a);if(null==c)return"Error message "+a+" is not included by server-side code. Contact site support";for(var c=c.innerHTML,d=1;d<arguments.length;++d)c=c.replace("%"+d.toString(),arguments[d]);return c}var lastErrorObject=null,lastErrorObjectBorderColor="",lastErrorObjectColor="",lastErrorMessageBox=null;
function showOrClearError(a,c,d){return c.length?(showError(a,c,d),false):(clearError(a),true)}
function showError(a,c,d){d=document.getElementById(d?d:a?a.id+"_errmsg":"errmsg");if(d==null)c.length>0&&alert(c);else{lastErrorObject&&clearError(lastErrorObject);if(a){if(a!=lastErrorObject)lastErrorObject=a,lastErrorObjectBorderColor=a.style.borderColor,lastErrorObjectColor=a.style.color,lastErrorMessageBox=d;a.style.borderColor="#FF0000";a.style.color="#FF0000"}d.innerHTML=c;d.style.display="block";d.style.zIndex=1E6;if(a&&a.parentNode)a.parentNode.appendChild(d),d.style.left=a.parentNode.firstChild.nextSibling.offsetLeft}}
function clearError(a){if(lastErrorObject==a){if(lastErrorMessageBox)lastErrorMessageBox.style.display="none";lastErrorObject.style.borderColor=lastErrorObjectBorderColor;lastErrorObject.style.color=lastErrorObjectColor;lastErrorMessageBox=lastErrorObject=null}}
function clearLastError(){if(lastErrorObject){if(lastErrorMessageBox)lastErrorMessageBox.style.display="none";lastErrorObject.style.borderColor=lastErrorObjectBorderColor;lastErrorObject.style.color=lastErrorObjectColor;lastErrorMessageBox=lastErrorObject=null}}function reportScriptError(a){alert(a)}function htmlencode(a){return(a=new String(a))?a.replace("<","&lt;").replace(">","&gt;").replace("&","&amp;").replace('"',"&quot;"):""};function MouseDragger(){function a(){return false}function c(a){a=BSGetMouseXYFromEvent(a);f=a.x;g=a.y}function d(a){if(n)l=j+(f-h),p=k+(g-i),n.style.position="absolute",n.style.left=l.toString(10)+"px",n.style.top=p.toString(10)+"px";c(a);return false}function b(){if(n)n.style.zIndex=new Number(n.style.zIndex)-10,n=null;document.onmousemove=c;document.onmouseup=null;document.onmousedown=null}function e(c){for(c=BSGetEventTarget(c);c&&!c.eventsourceid;)c=c.parentNode;(c=document.getElementById(c.eventsourceid))?
(document.onmousedown=a,n=c,n.style.zIndex=new Number(n.style.zIndex)+10,n.style.position="absolute",document.onmousemove=d,document.onmouseup=b,h=f,i=g,l=j=n.offsetLeft,p=k=n.offsetTop):b()}var f=0,g=0,h=0,i=0,j=0,k=0,l=0,p=0,n=null;document.onmousemove=c;this.add=function(a,b){var c=document.getElementById(a);BSAdviseEvent(c,"mousedown",e,b)}};function RecordFieldFormatterCSVImportStatus(){var a=new FormatterImage("Error"),c=new FormatterImage("Success");this.Format=function(d,b){return b[d]==0?c.Format("/img/success.png"):a.Format("/img/error.png")}}function RecordFieldFormatterCSVImportValue(){this.Format=function(a,c){var d="__error_"+a,b=c[a];c[d]&&(b+='<p class="csverror">'+eval(c[d])+"</p>");return b}}function RecordFieldFormatter(a){this.BaseFormatter=function(){return a};this.Format=function(c,d){return a.Format(d[c])}}
function RecordFieldFormatterSubrecord(a){this.Format=function(c,d){return d[c][a]}}function RecordFieldFormatterLabelsMap(){var a=new FormatterMap(arguments);this.Format=function(c,d){return a.Format(d[c])}}function RecordFieldFormatterImagesMap(){var a=new DoubleFormatterMap(arguments);a.Formatter=new FormatterImage("");this.Format=function(c,d){return a.Format(d[c])}}function RecordFieldFormatterLabelsMapArray(a){var c=new FormatterMap(a);this.Format=function(a,b){return c.Format(b[a])}}
function RecordFieldFormatterEditArtefact(a,c){this.Format=function(d,b){var e="edit",f=a;b.fkTranslatedFrom&&(e="translate",f=c);var g="articles";b.artefactType==1?g="calculators":b.artefactType==4&&(g="handbooks");return'<a href="'+("/personal/"+g+"/"+e+"/?id="+b.pkID)+'">'+f+"</a>"}}
function RecordFieldFormatterTranslateArtefact(a,c,d){this.Format=function(b,e){if(!e[a])return"";var f="articles";e.artefactType==1?f="calculators":e.artefactType==4&&(f="handbooks");return'<a href="'+("/personal/"+f+"/translate/?id="+e[a]+"&src="+d)+'">'+e[c]+"</a>"}}function RecordFieldFormatterURLPattern(a,c){this.Format=function(d,b){var e=c?c.Format(d,b):b[d];return'<a href="'+a.replace(/%1/g,b.pkID)+'">'+e+"</a>"}}
function RecordFieldFormatterURLPatternKey(a,c){for(var d=[],b=2;b<arguments.length;++b)d[d.length]=arguments[b];this.Format=function(b,f){for(var g=c?c.Format(b,f):f[b],h=a,i=0;i<d.length;++i)h=h.replace(RegExp("%"+(i+1),"g"),f[d[i]]);return'<a href="'+h+'">'+g+"</a>"}}function RecordFieldFormatterPublishedArtefact(a){this.Format=function(c,d){var b=a?a.Format(c,d):d[c];return d.published?'<a href="/'+d.pkID+'/">'+b+"</a>":b}}
function RecordFieldFormatterParamScriptURL(a,c,d){this.Format=function(b,e){var f=d?d.Format(b,e):e[b];return'<a href="#" onclick="'+a.replace(/%1/g,e[c])+'; return BSPreventDefaultAction( event);">'+f+"</a>"}}
function RecordFieldFormatterParamScriptURLEx(a,c){for(var d=[],b=2;b<arguments.length;++b)d[b-2]=arguments[b];this.Format=function(b,f){for(var g=c?c.Format(b,f):f[b],h=a,i=0;i<d.length;++i)h=h.replace("%"+(i+1).toString(),f[d[i]]?f[d[i]]:"");return'<a href="#" onclick="'+h+';return BSPreventDefaultAction( event);">'+g+"</a>"}}
function RecordFieldFormatterParamScriptURLLabel(a,c,d){this.Format=function(b,e){return'<a href="#" onclick="'+a.replace(/%1/g,e[c])+'; return BSPreventDefaultAction( event);">'+d+"</a>"}}function RecordFieldFormatterLabel(a){this.Format=function(){return a}}function RecordFieldFormatterEmptyLabel(a){this.Format=function(c,d){var b=d[c];if(typeof b=="undefined"||b=="")b=a;return b}}
function RecordFieldFormatterAlternate(a,c){this.Format=function(d,b){return typeof b[d]=="undefined"?c.Format(a,b):c.Format(d,b)}}function RecordFieldFormatterChangeButtons(a,c,d){function b(a,b,c,d,i){return'<a class="btn btn-mini" title="'+d+'" href="#" onclick="'+b+"."+c+"("+a+'); return BSPreventDefaultAction( event);"><i class="fa fa-'+i+'"></i><a>'}this.Format=function(e,f){var g=f.pkID;return b(g,a,"Edit",d,"pencil")+" "+b(g,a,"Delete",c,"times")}}
function RecordFieldFormatterProgress(a){this.Format=function(c,d){var b=Number(d[c]);return formatMessage(a,b>100?100:b,b)}}function RecordFieldFormatterMany(){var a=arguments;this.Format=function(c,d){for(var b=a[0],e=1;e<a.length;++e)b=b.replace(RegExp("%"+e,"g"),d[a[e]]);return b}}function RecordFieldFormatterThumbImage(){this.Format=function(a,c){return'<img src="'+c[a]+'_thumb.png" >'}};function GetObjectPropertiesCount(a){var c=0,d;for(d in a)++c;return c}
function Recordset(a,c){function d(a,b){var c={},d;for(d in a)b!=d&&(c[d]=a[d]);return c}function b(a){this.IsLess=function(b,c){return b[a]<c[a]}}function e(a){this.IsLess=function(b,c){return b[a]>c[a]}}var f={},g=c?c:"pkID",h=0,i={};this.QueryContext={from:0,items:10,sortcolumn:1,sortdirection:"ASC"};this.GetTotal=function(){return h};this.LoadFromJson=function(a){!a||a==""?this.Clear():(a=eval("("+a+")"),a.error?reportScriptError(a.error):this.LoadFromObject(a))};this.LoadFromRecordsetNode=function(a){this.Clear();
if(a){for(var b=a.attributes,c=0;c<b.length;++c){var d=b.item(c);this.QueryContext[d.nodeName]=d.nodeValue}a=a.childNodes;for(c=0;c<a.length;++c)if(b=a[c],b.nodeName=="record"){for(var d=b.childNodes,b={},e=0;e<d.length;e++){var f=d[e];if(f.nodeType==1){var m=null;f.firstChild&&f.firstChild.nodeType==1?(m=new Recordset,m.LoadFromRecordsetNode(f.firstChild)):m=f.firstChild?f.firstChild.nodeValue:"";b[f.nodeName]=m}}this.SetRecord(b)}else b.nodeName=="summary"&&(h=new Number(b.getAttribute("total")))}else alert("empty node passed into recordset")};
this.LoadFromObject=function(a){this.Clear();if(a.params)this.QueryContext=a.params;if(a.summary)h=a.summary.total;(a=a.recordset)&&this.LoadFromArray(a)};this.LoadFromArray=function(a){for(var b=0;b<a.length;++b){var c=a[b],d;for(d in c){var e=c[d];if(typeof e=="object"&&e.recordset){var f=new Recordset("");f.LoadFromObject(e);c[d]=f}else typeof e=="string"&&(c[d]=TryString2Date(e));this.SetRecord(c)}}};this.SaveToJson=function(){var a='{ "params":{',b="",c;for(c in this.QueryContext)a+=b+'"'+c+
'":"'+this.QueryContext[c]+'"',b=",";a+='} , "recordset":[';var b="",d;for(d in f){a+=b+"{";c=f[d];var b="",e;for(e in c)if(e!=g||!this.IsNew(c[g]))a+=b+'"'+e+'":',a+=typeof c[e]=="object"&&c[e].SaveToJson?c[e].SaveToJson():Value2Json(c[e]),b=",";a+="}";b=","}a+="]}";return a};this.GetPrimaryKey=function(a){var b="";a[g]!=void 0&&a[g]!=""?b="pk"+a[g]:(b=this.GetUniquePropertyValue(g,""),a[g]=b,b="pk"+b,i[b]=true);return b};this.SetRecord=function(a){var b=this.GetPrimaryKey(a);f[b]=a};this.InsertRecord=
function(a,b){var c=this.GetPrimaryKey(a),d={},e=false,o;for(o in f)d[o]=f[o],"pk"+b==o&&(e=true,d[c]=a);e||(d[c]=a);f=d};this.Exists=function(a){return typeof f[a]!="undefined"};this.GetRecord=function(a){return f["pk"+a]};this.IsNew=function(a){return true==i["pk"+a]};this.RemoveRecord=function(a){var b="pk"+a;f=d(f,b);this.IsNew(a)&&(i=d(i,b))};this.FindByProperty=function(a,b){for(var c in f){var d=f[c];if(d[a]==b)return d}return null};this.GetUniquePropertyValue=function(a,b){var c=1,d;do d=
b+c++;while(this.FindByProperty(a,d));return d};this.IsEmpty=function(){for(var a in f)return false;return true};this.GetRecordArray=function(){var a=[],b;for(b in f)a[a.length]=f[b];return a};this.GetCount=function(){return GetObjectPropertiesCount(f)};this.Clear=function(){i={};f={}};this.AddNewRecord=function(){var a={};this.SetRecord(a);return a};this.SelectByField=function(a,b){var c=new Recordset("",g),d;for(d in f){var e=f[d];e[b].indexOf(a)!=-1&&c.SetRecord(e)}return c};this.Rollback=function(){var a=
i,b;for(b in a)this.RemoveRecord(b.substring(2))};this.SortAsc=function(a){this.Sort(new b(a))};this.SortDesc=function(a){this.Sort(new e(a))};this.Sort=function(a){var b=[],c;for(c in f){for(var d=0,e=f[c];d<b.length;++d)if(a.IsLess(e,b[d]))break;b.splice(d,0,e)}this.Clear();for(d=0;d<b.length;++d)this.SetRecord(b[d])};a!=void 0&&a!=""&&this.LoadFromJson(a)}
function Value2Json(a,c){if(null==a)return"null";var d=typeof a,b=c?"":'"';if(d=="string"){var e=new String(a);return b+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"').replace(/\n/g,"\\n")+b}else if(d=="object"){d="";if(a instanceof Array){d="";for(b=0;b<a.length;++b)d+=","+Value2Json(a[b]);d=a.length?"["+d.substr(1)+"]":"[]"}else if(a instanceof Date)d=b+Date2String(a)+b;else{d="";b=0;for(e in a)++b,d+=',"'+e+'":'+Value2Json(a[e]);d=b?"{"+d.substr(1)+"}":"{}"}return d}else return d=="undefined"?b+b:
a};function RecordsetHeader(){this.Columns={};this.Size=0;this.AddColumn=function(a,c,d,b,e){var f={};f.name=a;f.dispname=c;f.formatter=d;f.description=b;f.chartKind=e;f.visible=true;this.Columns[a]=f;this.Size++};this.GetLabel=function(a){var c=this.Columns[a],a=c.dispname;(c=c.description)&&(a='<span title="'+c+'">'+a+"</span>");return a};this.GetFormatter=function(a){return this.Columns[a]?this.Columns[a].formatter:null};this.HasColumn=function(a){return typeof this.Columns[a]!="undefined"}}
function RecordsetRenderer(a,c){var d,b;function e(b){BSGetElementSize(document.getElementById(a));return'<div class="table" ><table class="table table-striped">'+b+"</table></div>"}function f(c,e,f){return'<td class="'+(e?d:b)+'">'+(e?'<a href="#" id="'+("nav_"+a+"_")+c+'">':"")+f+(e?"</a>":"")+"</td>"}function g(a,b,c){if(c&&(a=document.getElementById(a)))for(var d=a.getElementsByTagName("a"),e=0;e<d.length;++e){var f=d[e],a=f.id.replace(b,"");BSAdviseEvent(f,"click",c,a)}}d="recordset_navigation";
b="recordset_navigation_current";var h=this,i=function(a){var b=Number(a.QueryContext.items);return b?Math.floor((Number(a.QueryContext.from)+1)/b):0},j=function(a){var b=Number(a.QueryContext.items);return b?Math.floor(a.GetTotal()/b)+(a.GetTotal()%b?1:0):0};this.RenderMessage=function(b,c){var d=h.CreateTableHeader("","",false);d+='<tr><td colspan="'+h.Header.Size+'">'+c+"</td></tr>";d+=h.GetEmptyLines(b-1);document.getElementById(a).innerHTML=e(d)};this.GetEmptyLines=function(){return""};this.AddColumn=
function(a,b,c,d,e){h.Header.AddColumn(a,b,c,d,e)};this.Render=function(b,c,d){b=h.CreateTable(b,c?true:false,d?true:false);document.getElementById(a).innerHTML=b;d&&g("navigation_div_"+a,"nav_"+a+"_",d);c&&g(h.GetHeaderId(),"col_"+a+"_",c);var c=null,e;for(e in h.Header.Columns)(d=h.Header.Columns[e].formatter)&&d.BaseFormatter&&(d=d.BaseFormatter()),d instanceof FormatterFormula&&(c=d);c&&c.PostRender()};this.CreateTable=function(a,b,c){b=h.CreateTableHeader(a.QueryContext.sortcolumn,a.QueryContext.sortdirection,
b);b+=h.CreateTableData(a);c&&(b+=h.CreateNavigation(i(a),j(a)));return e(b)};this.CreateTableHeader=function(b,c,d){var e='<thead><tr id="'+h.GetHeaderId()+'" >',f;for(f in h.Header.Columns)if(h.Header.Columns[f].visible){var m="th_notsorted";f==b&&(m=c=="ASC"?"th_sortedasc":"th_sorteddesc");e+="<th>";d&&(e+='<a href="" class="'+m+'" id="'+("col_"+a+"_")+f+'">');e+=h.Header.GetLabel(f);d&&(e+="</a>");e+="</th>"}e+="</tr></thead>";return e};this.CreateTableData=function(a){for(var b=1,c=a.GetRecordArray(),
d="<tbody>",e=0;e<c.length;e++)d+=h.CreateRowData(b%2?"tr_odd":"tr_even",c[e]),b++;b=a.QueryContext.items;0==b&&(b=a.GetCount());d+=h.GetEmptyLines(b-c.length);d+="</tbody>";return d};this.CreateRowData=function(a,b){var c="<tr>",d;for(d in h.Header.Columns)if(h.Header.Columns[d].visible){c+='<td class="td_'+d+'">';var e=h.Header.GetFormatter(d);c+=e?e.Format(d,b):b[d];c+="</td>"}c+="</tr>";return c};this.GetHeaderId=function(){return"header_"+a};this.CreateNavigation=function(b,d){if(d<=1)return"";
var e='<tfoot><tr><td colspan="'+h.Header.Size+'">';e+='<table class="recordset_navigation" id="navigation_div_'+a+'">';e+="<tr>";var g=b-c/2,o=b+c/2;g<0?(g=0,o=c>=d?d-1:c):o>d-1&&(o=d-1,g=c>d?0:d-c);for(var m=f(g>0?g-1:0,b!=0,"&lt;&lt;");g<=o;)m+=f(g,b!=g,g+1),g++;m+=f(g==d?d-1:g,b!=d-1,"&gt;&gt;");e+=m;e+="</tr>";e+="</table></td></tr></tfoot>";return e};this.Header=new RecordsetHeader;this.Show=function(){return document.getElementById(a).parentNode.style.display="block"};this.Hide=function(){return document.getElementById(a).parentNode.style.display=
"none"}}function AjaxTableNoEmptyRowsRenderer(a,c){this.inheritFrom=RecordsetRenderer;this.inheritFrom(a,c);this.GetEmptyLines=function(){return""}};function Commenter(a,c){this.OuterDivID=a;this.URL=c;this.SetTable=function(a){this.Comments=a};this.initdialog=function(a){this.Dialog=a};this.onchanged=function(){};this.onkeypressed=function(){return true};this.oncommand=function(a){clearLastError();"ok"==a?this.Dialog.Validate()&&this.Send():"cancel"==a&&this.Discard()};this.Send=function(){if(this.Dialog.Validate()){this.Dialog.Busy();var a=BSMakePOSTRequest,b=this.URL,c=this.Dialog,f={id:c.comment_id.GetValue(),message:c.message_text.GetValue(),
parent:c.parent.GetValue()};if(void 0!=c.captcha)f.captcha=c.captcha.GetValue();if(void 0!=c.sender)f.sender=c.sender.GetValue();a(b,this,f)}};this.Discard=function(){document.getElementById(this.OuterDivID).style.display="none"};this.OnResponse=function(){this.Dialog.Free();this.ResetCaptcha();this.Dialog.message_text.SetValue("");this.Comments.Reload()};this.OnError=function(a){this.Dialog.Free();this.ResetCaptcha();this.Dialog.ShowError(null,a);return true};this.ResetCaptcha=function(){if(commenter.Dialog.captcha)commenter.Dialog.captcha.SetValue(""),
document.getElementById(this.Dialog.GetElement().id+"_captcha_image").src="/captcha/?"+Math.random()}}
function CommentsRenderer(a,c){function d(a,b){return'<p class="'+a+'">'+b+"</p>"}function b(a,b){return'<span class="'+a+'">'+b+"</span>"}this.inheritFrom=RecordsetRenderer;this.inheritFrom(a,c);var e=this;this.GetEmptyLines=function(){return""};this.CreateTableHeader=function(){return""};this.CreateRowData=function(a,c){var h="<tr>";h+='<td rowspan=2 class="author_info">';h+=0==c.role?this.RenderAnonimousInfo(c):d("photo",e.Header.GetFormatter("photo")?e.Header.GetFormatter("photo").Format("photo",
c):c.photo);h+="</td>";h+='<td class="comment_created">';h+=b("nick",e.Header.GetFormatter("nickname")?e.Header.GetFormatter("nickname").Format("nickname",c):c.nickname);h+=b("comment_posted",e.Header.GetFormatter("posted")?e.Header.GetFormatter("posted").Format("posted",c):c.posted);e.Header.GetFormatter("spamVotes")&&(h+='<span class="spam_control">',e.Header.GetFormatter("spamDelete")&&(h+=e.Header.GetFormatter("spamDelete").Format("spamDelete",c),h+=" "),h+=e.Header.GetFormatter("spamControl").Format("spamControl",
c)+" "+c.spamVotes+"/"+c.spamLimit,h+="</span>");h+="</td>";h+="</tr>";h+='<tr class="comment_data">';h+='<td class="message">';h+=c.message;h+="</td>";h+="</tr>";return h};this.RenderAnonimousInfo=function(a){a.photo="/img/none.png";return d("photo",e.Header.GetFormatter("photo")?e.Header.GetFormatter("photo").Format("photo",a):a.photo)}}
function ArtefactRater(a,c,d){function b(a,b,c,d){for(var f=1;f<=5;++f){var l=e(a,"rate"+f);if(null!=l)l.src=b>=f?c:d}}function e(a,b){for(var c=a.childNodes,d=0;d<c.length;++d){var f=c[d];if(null!=f.attributes){var l=f.attributes.getNamedItem("id");if(null!=l&&l.value==b)return f}f=e(f,b);if(null!=f)return f}return null}this.ArtefactID=d;this.ContentID=c;this.URL=a;var f=this;this.Forbid=false;this.Votes=this.Score=0;this.setInfo=function(a,c){this.Score=a;this.Votes=c;var d=document.getElementById(this.ContentID);
if(null==d)alert("Error message "+this.ContentID+" is not included by server-side code. Contact site support");else{var f=e(d,"rating_login_id");if(null!=f)f.style.display="none";f=e(d,"rating_score_id");if(null!=f)f.innerHTML="("+(new FormatterNumber(2)).Format(a)+")";f=e(d,"rating_votes_id");if(null!=f)f.innerHTML=c;b(d,a,"/img/rated_on.gif","/img/rated_off.gif")}};this.Disable=function(){this.Forbid=true};this.setRate=function(a){this.Forbid||BSMakePOSTRequest(this.URL,this,{id:this.ArtefactID,
mark:a})};this.setNormal=function(){var a=document.getElementById(this.ContentID);null==a?alert("Error message "+this.ContentID+" is not included by server-side code. Contact site support"):this.Forbid||b(a,this.Score,"/img/rated_on.gif","/img/rated_off.gif")};this.setHighlight=function(a){var c=document.getElementById(this.ContentID);if(null==c)alert("Error message "+this.ContentID+" is not included by server-side code. Contact site support");else if(this.Forbid){if(a=e(c,"rating_login_id"),null!=
a)a.style.display="inline",a.style.position="absolute"}else b(c,a,"/img/rate_on.gif","/img/rate_off.gif")};this.OnResponse=function(a){f.setInfo(a.score,a.votes)}}
function FormTrackerHandler(a){this.Dialog=null;this.URL=a;this.onchanged=function(){BSMakePOSTRequest(this.URL,this,{id:this.Dialog.item_id.GetValue(),op:this.Dialog.op.GetValue()})};this.initdialog=function(a){this.Dialog=a};this.oncommand=function(){clearLastError()};this.onkeypressed=function(){return true};this.OnResponse=function(){}}
function SpamControl(a,c){this.URL=a;var d=this;this.Comments=c;this.Request=function(a,c){BSMakePOSTRequest(this.URL,this,{id:c,op:a})};this.Report=function(a){this.Request("report",a)};this.Close=function(a){this.Request("close",a)};this.Delete=function(a){this.Request("delete",a)};this.OnResponse=function(){d.Comments.Reload()}}
function Requester(a){this.URL=a;this.Request=function(a){BSMakePOSTRequest(this.URL,this,{id:a})};this.Close=function(a){this.Request(a)};this.OnResponse=function(){alert("Done")}}function Trigger(a){this.URL=a;this.Request=function(a){BSMakePOSTRequest(this.URL,this,{id:a})};this.Trigger=function(a){this.Request(a)};this.OnResponse=function(){alert("Done")}};var PCI=typeof PCI=="object"?PCI:function(){function a(){this.match=function(a,d,b){if(typeof b=="object"){var e=null;switch(b.t){case "&":e=this.matchAnd(a,d,b);break;case "!":e=this.matchNot(a,d,b);break;case "|":e=this.matchOneOf(a,d,b);break;case "->":e=this.matchReference(a,d,b);break;case "*":e=this.matchArray(a,d,b);break;case "+":e=this.matchArray1(a,d,b);break;default:throw"Invalid rule type '"+b.t+"'";}return e}return this.matchExactString(a,d,b)};this.matchAnd=function(a,d,b){for(var e=
[],f=a.getPos(),g=0;g<b.v.length;++g){var h=this.match(a,d,b.v[g]);if(!h)return a.setPos(f),null;e[g]=h}return new PCI.resultArray(e,b)};this.matchOneOf=function(a,d,b){for(var e=0;e<b.v.length;++e){var f=this.match(a,d,b.v[e]);if(f)return f}return null};this.matchArray=function(a,d,b){for(var e=null,f=[];e=this.match(a,d,b.v);)f[f.length]=e;return new PCI.resultArray(f,b)};this.matchArray1=function(a,d,b){for(var e=null,f=[];e=this.match(a,d,b.v);)f[f.length]=e;return f.length==0?null:new PCI.resultArray(f,
b)};this.matchNot=function(a,d,b){var e=a.getPos(),d=this.match(a,d,b.v);a.setPos(e);return d?null:(a=a.get())?new PCI.resultString(a,b):null};this.matchReference=function(a,d,b){var e=a.getPos();return(a=this.match(a,d,d[b.v]))?new PCI.resultReference(a,b.v,e):null};this.matchExactString=function(a,d,b){for(var d="",e=a.getPos(),f=0;f<b.length;++f){var g=a.get();if(!g||g!=b.charAt(f))return a.setPos(e),null;d+=g}return new PCI.resultString(d,b)}}return{resultString:function(a){this.value=a;this.getValue=
function(){return this.value};this.__enum=function(){return[this.value]};this.__clone=function(a){return new PCI.resultString(a[0])}},resultReference:function(a,d,b){this.value=a;this.pos=b;this.getPos=function(){return b};this.getValue=function(){return this.value.getValue()};this.__enum=function(){return[this.value]};this.__name=d;this.__clone=function(a){return new PCI.resultReference(a[0],this.__name)}},resultArray:function(a){this.length=a.length;for(var d=0;d<a.length;++d)this[d]=a[d];this.getValue=
function(){for(var a="",c=0;c<this.length;++c){var d;d=this[c];var g=typeof d;d=g=="number"?d.toString():g=="string"||g=="undefined"?d:d.getValue?d.getValue():d;a+=d}return a};this.__enum=function(){for(var a=[],c=0;c<this.length;++c)a[c]=this[c];return a};this.__clone=function(a){return new PCI.resultArray(a)}},checkrules:function(a){for(var d in a)if(!PCI.checkrule(a[d],a))return false;return true},checkrule:function(a,d){if(typeof a!="object")return true;if(a instanceof Array)for(var b=0;b<a.length;++b){if(!PCI.checkrule(a[b],
d))return false}else if(a.t=="->"&&!d[a.v])return false;return PCI.checkrule(a.v,d)},match:function(c,d,b){return(new a).match(c,d,b)},parserLine:function(a){var d=0;this.get=function(){for(;d!=a.length;)if(ch=a.charAt(d++),!(ch=="\t"||ch=="\r"||ch==" "))return ch;return 0};this.remainder=function(){return a.substr(d)};this.setPos=function(a){d=a};this.getPos=function(){return d}},simpleStream:function(a){var d=0;this.get=function(){for(;d!=a.length;)return ch=a.charAt(d++);return 0};this.remainder=
function(){return a.substr(d)};this.setPos=function(a){d=a};this.getPos=function(){return d}}}}();var PCM=typeof PCM=="object"?PCM:function(){function a(a){return typeof a!="undefined"}function c(){for(var a=[],b=this.args,c=0;c<b.length;++c)a[c]=b[c];return a}function d(){var b=[];if(a(this.arg1))b[b.length]=this.arg1;if(a(this.arg2))b[b.length]=this.arg2;if(a(this.arg3))b[b.length]=this.arg3;return b}function b(a,b){if(PCM.getValue(a.arg2)==PCM.getValue(b))return a.arg1;if(PCM.isNumber(a.arg1)&&PCM.isNumber(b))return PCM.division(PCM.multiplication([a.arg1,b]),a.arg2)}function e(a,c){if(PCM.isNumber(a)&&
PCM.isNumber(c))return PCM.getNumber(a)*PCM.getNumber(c);var d=PCM.getValue(a),e=PCM.getValue(c);if(d=="0"||e=="0")return 0;if(d=="1")return c;if(e=="1")return a;if(a instanceof PCM.multiplication_fn&&c instanceof PCM.multiplication_fn)return d=a.__enum(),PCM.multiplication(d.concat(c.__enum()));if(a instanceof PCM.division_fn&&c instanceof PCM.division_fn)return PCM.getValue(a.arg1)==PCM.getValue(c.arg2)&&PCM.getValue(c.arg1)==PCM.getValue(a.arg2)?1:PCM.getValue(a.arg1)==PCM.getValue(c.arg2)?PCM.division(c.arg1,
a.arg2):PCM.getValue(a.arg2)==PCM.getValue(c.arg1)?PCM.division(a.arg1,c.arg2):PCM.division(PCM.multiplication([a.arg1,c.arg1]),PCM.multiplication([a.arg2,c.arg2]));else if(a instanceof PCM.power_fn&&c instanceof PCM.power_fn&&PCM.getValue(a.arg1)==PCM.getValue(c.arg1))return PCM.power(a.arg1,PCM.sum([a.arg2,c.arg2]));else if(a instanceof PCM.division_fn)return b(a,c);else if(c instanceof PCM.sqrt_fn&&a instanceof PCM.sqrt_fn)return PCM.sqrt(PCM.multiplication([a.arg1,c.arg1]));else if(c instanceof
PCM.division_fn)return b(c,a);else if(d==e)return PCM.power(a,2)}function f(a,b){var c;return(b?"\\left(":"")+PCM.getTeX(a)+(b?"\\right)":"")}function g(a,b){var c;return(b?"(":"")+PCM.getMath(a)+(b?")":"")}function h(a){return g(a,a instanceof PCM.sum_fn||a instanceof PCM.minus_fn)}function i(a){return g(a,a instanceof PCM.power_fn||a instanceof PCM.sum_fn||a instanceof PCM.multiplication_fn||a instanceof PCM.division_fn||a instanceof PCM.minus_fn)}function j(a,b){return PCM.getComplexity(a)-PCM.getComplexity(b)}
function k(a,b){if(PCM.isConstant(a))return 0;else if(PCM.getValue(a)=="x")return b;return PCM.multiplication([b,new PCM.derivative_fn(a)])}function l(a,b,c,e){a.arg1=b;a.immediatepowersign=true;a.name=c;a.__enum=d;a.getValue=function(){return this.name+"("+PCM.getValue(this.arg1)+")"};a.__clone=function(a){return e(a[0])};a.getTeX=function(){return"\\"+this.name+"\\left("+PCM.getTeX(this.arg1)+"\\right)"};a.getMath=function(){return this.name+"("+PCM.getMath(this.arg1)+")"}}function p(a){a.getTeX=
function(){return this.name+"\\left("+PCM.getTeX(this.arg1)+"\\right)"}}function n(){var a=this;this.__translate=function(b){if(b instanceof PCI.resultString)return b.getValue();if(b instanceof PCI.resultReference){var c=a[b.__name];if(c)return c(b.value)}throw"Could not translate: "+PCM.getValue(b);};this.func=function(b){var c=PCM.getValue(b[0]),b=a.__translate(b[2]),d={sin:new PCM.sin_fn(b),cos:new PCM.cos_fn(b),tan:new PCM.tan_fn(b),cot:new PCM.cot_fn(b),tg:new PCM.tan_fn(b),ctg:new PCM.cot_fn(b),
th:new PCM.tanh_fn(b),cth:new PCM.coth_fn(b),tanh:new PCM.tanh_fn(b),coth:new PCM.coth_fn(b),ch:new PCM.cosh_fn(b),sh:new PCM.sinh_fn(b),cosh:new PCM.cosh_fn(b),sinh:new PCM.sinh_fn(b),sec:new PCM.sec_fn(b),cosec:new PCM.csc_fn(b),sech:new PCM.sech_fn(b),csch:new PCM.csch_fn(b),sqrt:new PCM.sqrt_fn(b),exp:new PCM.power_fn(PCM.exp(),b),ln:new PCM.ln_fn(b),lg:new PCM.lg_fn(b),lb:new PCM.lb_fn(b),arcsin:new PCM.arcsin_fn(b),arccos:new PCM.arccos_fn(b),arctan:new PCM.arctan_fn(b),arccot:new PCM.arccot_fn(b),
arctg:new PCM.arctan_fn(b),arcctg:new PCM.arccot_fn(b),arcsec:new PCM.arcsec_fn(b),arccosec:new PCM.arccosec_fn(b),abs:new PCM.abs_fn(b),sgn:new PCM.sign_fn(b),sign:new PCM.sign_fn(b)};return d[c]?d[c]:new PCM.function_fn(b,c)};this.funcnum=function(b){var c=PCM.getValue(b[0]),d=PCM.getNumber(b[1]),b=a.__translate(b[3]);return{root:new PCM.root_fn(b,d),log:new PCM.logn_fn(b,d)}[c]};this.factor=function(b){return(PCM.getValue(b[0])=="-"?-1:1)==1?a.__translate(b[1]):PCM.minus(a.__translate(b[1]))};
this.value=function(b){switch(b.__name){case "func":case "pi":case "exponenta":case "variable":case "funcnum":return a.__translate(b);case "paren expression":return a.__translate(b.value[1])}return PCM.getNumber(b)};this.variable=function(){return new PCM.variable_fn};this.pi=function(){return new PCM.pi_fn};this.exponenta=function(){return PCM.exp()};this.power=function(b){if(b[1].length==0)return a.__translate(b[0]);else{for(var c=[],d=b[1],e=0;e<d.length;++e)c[c.length]=a.__translate(d[e][1]);
c=PCM.multiplication(c);b=a.__translate(b[0]);return new PCM.power_fn(b,c)}};this.product=function(b){if(b[1].length==0)return a.__translate(b[0]);else{for(var c=[a.__translate(b[0])],d=[],b=b[1],e=0;e<b.length;++e){var f=b[e];PCM.getValue(f[0])=="*"?c[c.length]=a.__translate(f[1]):PCM.getValue(f[0])=="/"&&(d[d.length]=a.__translate(f[1]))}return d.length?(c=c.length>1?new PCM.multiplication_fn(c):c[0],d=d.length>1?new PCM.multiplication_fn(d):d[0],new PCM.division_fn(c,d)):c.length==1?c[0]:new PCM.multiplication_fn(c)}};
this.sum=function(b){if(b[1].length==0)return a.__translate(b[0]);else{for(var c=[a.__translate(b[0])],b=b[1],d=0;d<b.length;++d){var e=b[d];c[c.length]=a.__translate(e[1]);PCM.getValue(e[0])=="-"&&(c[c.length-1]=new PCM.minus_fn(c[c.length-1]))}return c.length==1?c[0]:new PCM.sum_fn(c)}};this.expression=function(b){return a.__translate(b)}}return{isNumber:function(a){return typeof a=="number"},isConstant:function(a){if(typeof a=="string"||typeof a=="number")return true;if(a instanceof PCM.variable_fn)return false;
for(var a=a.__enum(),b=0;b<a.length;++b)if(!PCM.isConstant(a[b]))return false;return true},getNumber:function(a){var b=typeof a;if(b=="number")return a;else if(b=="string")return Number(a);return Number(a.getValue())},getValue:function(a){var b=typeof a;if(b=="number")return new String(a);else if(b=="string"||b=="undefined")return a;return a.getValue?a.getValue():a},getTeX:function(a){var b=typeof a;if(b=="number")return new String(a);else if(b=="string"||b=="undefined")return a;return a.getTeX?a.getTeX():
a},getMath:function(a){var b=typeof a;if(b=="number")return new String(a);else if(b=="string"||b=="undefined")return a;return a.getMath?a.getMath():a},getComplexity:function(a){var b=1,c=typeof a;if(c=="object"||a.__enum)if(a instanceof PCM.variable_fn)b+=3;else{b+=1;a instanceof PCM.division_fn&&(b+=1);a instanceof PCM.power_fn&&(b+=typeof a=="number"||typeof a=="object"&&a.arg1 instanceof PCM.variable_fn?1:2);a=a.__enum();for(c=0;c<a.length;++c)b+=PCM.getComplexity(a[c])}else c=="number"&&(a<0&&
(b+=1),a!=Math.round(a)&&(b+=1));return b},getNod:function(a,b){for(var c=a<0?-a:a,d=b<0?-b:b;c*d;)c>=d?c%=d:d%=c;return c+d},getMultipliers:function(a){if(a instanceof PCM.multiplication_fn)return a.__enum();else if(a instanceof PCM.minus_fn){var b=PCM.getMultipliers(a.arg1);b[b.length]=-1;return b}else if(a instanceof PCM.power_fn){for(var b=PCM.getMultipliers(a.arg1),c=[],d=0;d<b.length;++d)c[c.length]=PCM.power(b[d],a.arg2);return c}return[a]},calculate:function(a,b){return PCM.isNumber(a)?a:
a.calculate(b)},division_fn:function(a,b){this.arg1=a;this.arg2=b;this.__enum=d;this.getValue=function(){return"("+PCM.getValue(this.arg1)+")/("+PCM.getValue(this.arg2)+")"};this.getTeX=function(){return"\\frac{"+PCM.getTeX(this.arg1)+"}{"+PCM.getTeX(this.arg2)+"}"};this.getMath=function(){return h(this.arg1)+"/"+g(this.arg2,this.arg2 instanceof PCM.sum_fn||this.arg2 instanceof PCM.multiplication_fn||this.arg2 instanceof PCM.division_fn||this.arg2 instanceof PCM.minus_fn)};this.getDerivative=function(){return PCM.division(PCM.sum([PCM.multiplication([PCM.derivative(this.arg1),
this.arg2]),PCM.minus(PCM.multiplication([this.arg1,PCM.derivative(this.arg2)]))]),PCM.power(this.arg2,2))};this.__clone=function(a){return PCM.division(a[0],a[1])};this.calculate=function(a){return PCM.calculate(this.arg1,a)/PCM.calculate(this.arg2,a)}},division:function(a,b){if(a instanceof PCM.division_fn&&b instanceof PCM.division_fn)return PCM.division(PCM.multiplication([a.arg1,b.arg2]),PCM.multiplication([a.arg2,b.arg1]));else if(a instanceof PCM.division_fn){var c=PCM.division(a.arg1,PCM.multiplication([a.arg2,
b]));return c}else if(b instanceof PCM.division_fn)return PCM.division(PCM.multiplication([a,b.arg2]),b.arg1);for(var d=PCM.getMultipliers(a),e=PCM.getMultipliers(b),f=0;f<d.length;++f)for(var g=0;g<e.length;++g){var c=d[f],h=e[g];if(PCM.getValue(c)==PCM.getValue(h))e[g]=1,d[f]=1;else if(PCM.isNumber(c)&&PCM.isNumber(h)&&c==Math.round(c)&&h==Math.round(h)){var c=PCM.getNumber(c),h=PCM.getNumber(h),i=PCM.getNod(c,h);e[g]=h/i;d[f]=c/i}else continue;break}c=PCM.multiplication(d);h=PCM.multiplication(e);
d=PCM.isNumber(c);e=PCM.isNumber(h);return c=d&&PCM.getNumber(c)==0?0:e&&PCM.getNumber(h)==1?c:new PCM.division_fn(c,h)},multiplication:function(a){for(var b=[],c=false,d=0;d<a.length;++d)for(var f=PCM.getMultipliers(a[d]),g=0;g<f.length;++g){var h=f[g];if(h==-1)c=!c;else{for(var i=false,j=0;j<b.length;++j){var k=e(b[j],h);if(typeof k!="undefined"){b[j]=k;i=true;break}}i||(b[b.length]=h)}}k=b.length==1?b[0]:b.length==0?1:new PCM.multiplication_fn(b);return c?PCM.minus(k):k},multiplication_fn:function(a){this.args=
a;this.__enum=c;this.sorted=false;this.sort=function(){this.args.sort(j)};this.getValue=function(){this.sort();for(var a="",b=0;b<this.args.length;++b)a=a+"*"+PCM.getValue(this.args[b]);return a.substring(1)};this.getTeX=function(){this.sort();for(var a="",b="",c=0;c<this.args.length;++c)a=a+b+" "+f(this.args[c],this.args[c]instanceof PCM.sum_fn||this.args[c]instanceof PCM.minus_fn),b="\\cdot";return a};this.getMath=function(){this.sort();for(var a="",b="",c=0;c<this.args.length;++c)a=a+b+h(this.args[c]),
b="*";return a};this.__clone=function(a){return PCM.multiplication(a)};this.getDerivative=function(){for(var a=[],b=0;b<this.args.length;++b){for(var c=[],d=0;d<this.args.length;++d)c[c.length]=b==d?PCM.derivative(this.args[d]):this.args[d];a[a.length]=PCM.multiplication(c)}return PCM.sum(a)};this.calculate=function(a){for(var b=1,c=0;c<this.args.length;++c)b*=PCM.calculate(this.args[c],a);return b}},sum:function(a){for(var b=0,c=[],d=0;d<a.length;++d)PCM.isNumber(a[d])?b+=PCM.getNumber(a[d]):c[c.length]=
a[d];if(!c.length)return b;b&&(c[c.length]=b);return c.length==1?c[0]:new PCM.sum_fn(c)},sum_fn:function(a){this.args=a;this.__enum=c;this.getValue=function(){for(var a="",b=true,c=0;c<this.args.length;++c){var d=new String(PCM.getValue(this.args[c]));d.length>0&&d.charAt(0)=="-"?a+=d:b?(a=d+a,b=false):a=a+"+"+d}return"("+a+")"};this.getTeX=function(){for(var a="",b=true,c=0;c<this.args.length;++c){var d=new String(PCM.getValue(this.args[c]));d.length>0&&d.charAt(0)=="-"?a+=PCM.getTeX(this.args[c]):
b?(a=PCM.getTeX(this.args[c])+a,b=false):a=a+"+"+PCM.getTeX(this.args[c])}return a};this.getMath=function(){for(var a="",b=0;b<this.args.length;++b){var c=new String(PCM.getValue(this.args[b]));c.length>0&&c.charAt(0)=="-"||a.length==0?a+=PCM.getMath(this.args[b]):a=a+"+"+PCM.getMath(this.args[b])}return a};this.getDerivative=function(){for(var a=[],b=0;b<this.args.length;++b)PCM.isConstant(this.args[b])||(a[a.length]=PCM.derivative(this.args[b]));return PCM.sum(a)};this.__clone=function(a){return PCM.sum(a)};
this.calculate=function(a){for(var b=0,c=0;c<this.args.length;++c)b+=PCM.calculate(this.args[c],a);return b}},substraction:function(a,b){return PCM.sum([a,PCM.minus(b)])},power:function(a,b){if(PCM.isNumber(a)&&PCM.isNumber(b)){var c=PCM.getNumber(a),d=PCM.getNumber(b);return d<0?PCM.division(1,PCM.power(a,-d)):Math.pow(c,d)}if(PCM.isNumber(b)){c=PCM.getNumber(b);if(c==0)return 1;if(c==1)return a}else if(PCM.isNumber(a)){c=PCM.getNumber(a);if(c==0)return 0;if(c==1)return 1}return a instanceof PCM.power_fn?
new PCM.power_fn(a.arg1,PCM.multiplication([b,a.arg2])):new PCM.power_fn(a,b)},power_fn:function(a,b){this.arg1=a;this.arg2=b;this.__enum=d;this.getValue=function(){return"("+PCM.getValue(this.arg1)+")^("+PCM.getValue(this.arg2)+")"};this.getTeX=function(){return typeof this.arg1=="object"&&this.arg1.immediatepowersign?"{\\"+this.arg1.name+"}^{"+PCM.getTeX(this.arg2)+"}\\left({"+PCM.getTeX(this.arg1.arg1)+"}\\right)":"{"+f(this.arg1,this.arg1 instanceof PCM.sum_fn||this.arg1 instanceof PCM.multiplication_fn||
this.arg1 instanceof PCM.division_fn||this.arg1 instanceof PCM.minus_fn)+"}^{"+PCM.getTeX(this.arg2)+"}"};this.getMath=function(){return i(this.arg1)+"^"+i(this.arg2)};this.__clone=function(a){return PCM.power(a[0],a[1])};this.getDerivative=function(){var a=PCM.isConstant(this.arg1),b=PCM.isConstant(this.arg2);return a&&b?0:a?(a=[this,PCM.ln(this.arg1)],PCM.getValue(this.arg2)!="x"&&(a[a.length]=PCM.derivative(this.arg2)),PCM.multiplication(a)):b?(a=[this.arg2,PCM.power(this.arg1,PCM.sum([this.arg2,
-1]))],PCM.getValue(this.arg1)!="x"&&(a[a.length]=PCM.derivative(this.arg1)),PCM.multiplication(a)):PCM.derivative(new PCM.power(PCM.exp(),PCM.multiplication([PCM.ln(this.arg1),this.arg2])))};this.calculate=function(a){return Math.pow(PCM.calculate(this.arg1,a),PCM.calculate(this.arg2,a))}},minus:function(a){if(PCM.isNumber(a))return-PCM.getNumber(a);else if(a instanceof PCM.minus_fn)return a.arg1;else if(a instanceof PCM.division_fn)return PCM.division(PCM.minus(a.arg1),a.arg2);else if(a instanceof
PCM.multiplication_fn)if(a.args[0]instanceof PCM.minus_fn)return a.args[0]=a.args[0].arg1,a;else if(PCM.isNumber(a.args[0]))return a.args[0]=-PCM.getNumber(a.args[0]),a;return new PCM.minus_fn(a)},minus_fn:function(a){l(this,a,"minus",PCM.minus);this.immediatepowersign=false;this.getValue=function(){var a=this.arg1 instanceof PCM.sum_fn||this.arg1 instanceof PCM.minus_fn||this.arg1 instanceof PCM.power_fn;return"-"+((a?"(":"")+PCM.getValue(this.arg1)+(a?")":""))};this.getTeX=function(){return"-"+
f(this.arg1,this.arg1 instanceof PCM.sum_fn||this.arg1 instanceof PCM.minus_fn)};this.getMath=function(){return"-"+g(this.arg1,this.arg1 instanceof PCM.sum_fn||this.arg1 instanceof PCM.minus_fn||this.arg1 instanceof PCM.power_fn)};this.getDerivative=function(){return PCM.minus(PCM.derivative(a))};this.calculate=function(a){return-PCM.calculate(this.arg1,a)}},sin:function(a){return new PCM.sin_fn(a)},sin_fn:function(a){l(this,a,"sin",PCM.sin);this.getDerivative=function(){return k(this.arg1,PCM.cos(this.arg1))};
this.calculate=function(a){return Math.sin(PCM.calculate(this.arg1,a))}},cos:function(a){return new PCM.cos_fn(a)},cos_fn:function(a){l(this,a,"cos",PCM.cos);this.getDerivative=function(){return k(this.arg1,PCM.minus(PCM.sin(this.arg1)))};this.calculate=function(a){return Math.cos(PCM.calculate(this.arg1,a))}},ln:function(a){return a instanceof PCM.exp_fn?1:new PCM.ln_fn(a)},ln_fn:function(a){l(this,a,"ln",PCM.ln);this.getDerivative=function(){return k(this.arg1,PCM.division(1,this.arg1))};this.calculate=
function(a){return Math.log(PCM.calculate(this.arg1,a))}},lg:function(a){return new PCM.lg_fn(a)},lg_fn:function(a){l(this,a,"lg",PCM.lg);this.getDerivative=function(){return k(this.arg1,PCM.division(1,PCM.multiplication([this.arg1,PCM.ln(10)])))};this.calculate=function(a){return Math.log(PCM.calculate(this.arg1,a))/Math.log(10)}},lb:function(a){return new PCM.lb_fn(a)},lb_fn:function(a){l(this,a,"lb",PCM.lb);p(this);this.getDerivative=function(){return k(this.arg1,PCM.division(1,PCM.multiplication([this.arg1,
PCM.ln(2)])))};this.calculate=function(a){return Math.log(PCM.calculate(this.arg1,a))/Math.log(2)}},logn:function(a,b){return new PCM.logn_fn(a,b)},logn_fn:function(a,b){l(this,a,"log_"+b,PCM.logn);this.getMath=function(){return"log"+this.arg2+"("+PCM.getMath(this.arg1)+")"};this.getValue=function(){return"log"+this.arg2+"("+PCM.getMath(this.arg1)+")"};this.arg2=b;this.__clone=function(a){return PCM.logn(a[0],a[1])};this.getDerivative=function(){return k(this.arg1,PCM.division(1,PCM.multiplication([this.arg1,
PCM.ln(this.arg2)])))};this.calculate=function(a){return Math.log(PCM.calculate(this.arg1,a))/Math.log(this.arg2)}},cosh_fn:function(a){l(this,a,"cosh",PCM.cosh);this.getDerivative=function(){return k(this.arg1,PCM.sinh(this.arg1))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return(Math.exp(a)+Math.exp(-a))/2}},cosh:function(a){return new PCM.cosh_fn(a)},sinh_fn:function(a){l(this,a,"sinh",PCM.sinh);this.getDerivative=function(){return k(this.arg1,PCM.cosh(this.arg1))};this.calculate=
function(a){a=PCM.calculate(this.arg1,a);return(Math.exp(a)-Math.exp(-a))/2}},sinh:function(a){return new PCM.sinh_fn(a)},sech_fn:function(a){l(this,a,"sech",PCM.sech);p(this);this.getDerivative=function(){return PCM.division(1,PCM.cosh(this.arg1)).getDerivative()};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return 2/(Math.exp(a)+Math.exp(-a))}},sech:function(a){return new PCM.sech_fn(a)},csch_fn:function(a){l(this,a,"csch",PCM.csch);p(this);this.getDerivative=function(){return PCM.division(1,
PCM.sinh(this.arg1)).getDerivative()};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return 2/(Math.exp(a)-Math.exp(-a))}},csch:function(a){return new PCM.csch_fn(a)},tanh_fn:function(a){l(this,a,"tanh",PCM.tanh);this.getDerivative=function(){return k(this.arg1,PCM.division(1,PCM.power(PCM.cosh(this.arg1),2)))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return(Math.exp(2*a)-1)/(Math.exp(2*a)+1)}},tanh:function(a){return new PCM.tanh_fn(a)},coth_fn:function(a){l(this,a,"coth",
PCM.coth);this.getDerivative=function(){return k(this.arg1,PCM.division(-1,PCM.power(PCM.sinh(this.arg1),2)))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return(Math.exp(2*a)+1)/(Math.exp(2*a)-1)}},coth:function(a){return new PCM.coth_fn(a)},variable_fn:function(){this.getValue=function(){return"x"};this.getTeX=function(){return"{x}"};this.getMath=function(){return"x"};this.__enum=function(){return[]};this.__clone=function(){return new PCM.variable_fn};this.getDerivative=function(){return 1};
this.calculate=function(a){return a.x}},sqrt_fn:function(a){l(this,a,"sqrt",PCM.sqrt);this.immediatepowersign=false;this.getTeX=function(){return"\\sqrt{"+PCM.getTeX(this.arg1)+"}"};this.getDerivative=function(){return k(this.arg1,PCM.division(1,PCM.multiplication([2,PCM.sqrt(this.arg1)])))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.sqrt(a)}},sqrt:function(a){return new PCM.sqrt_fn(a)},root_fn:function(a,b){this.arg1=a;this.arg2=b;this.immediatepowersign=false;this.name=
"root";this.__enum=function(){return[this.arg1,this.arg2]};this.getValue=function(){return this.name+this.arg2+"("+PCM.getValue(this.arg1)+")"};this.__clone=function(a){return PCM.root(a[0],a[1])};this.getTeX=function(){return"{\\small^"+PCM.getTeX(this.arg2)+"}\\sqrt{"+PCM.getTeX(this.arg1)+"}"};this.getMath=function(){return"root"+this.arg2+"("+PCM.getMath(this.arg1)+")"};this.getDerivative=function(){return(new PCM.power_fn(this.arg1,PCM.division(1,this.arg2))).getDerivative()};this.calculate=
function(a){a=PCM.calculate(this.arg1,a);return Math.pow(a,1/this.arg2)}},root:function(a,b){return new PCM.root_fn(a,b)},exp_fn:function(){this.getValue=function(){return"e"};this.getTeX=function(){return"e"};this.getMath=function(){return"e"};this.__enum=function(){return[]};this.__clone=function(){return new PCM.exp_fn};this.getDerivative=function(){return 0};this.calculate=function(){return Math.exp(1)}},exp:function(){return new PCM.exp_fn},tan_fn:function(a){l(this,a,"tan",PCM.tan);this.getDerivative=
function(){return k(this.arg1,PCM.division(1,PCM.power(PCM.cos(this.arg1),2)))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.tan(a)}},tan:function(a){return new PCM.tan_fn(a)},cot_fn:function(a){l(this,a,"cot",PCM.cot);this.getDerivative=function(){return k(this.arg1,PCM.division(-1,PCM.power(PCM.sin(this.arg1),2)))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return 1/Math.tan(a)}},cot:function(a){return new PCM.cot_fn(a)},sec_fn:function(a){l(this,a,"sec",PCM.sec);
this.getDerivative=function(){return k(this.arg1,PCM.division(PCM.sin(this.arg1),PCM.power(PCM.cos(this.arg1),2)))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return 1/Math.cos(a)}},sec:function(a){return new PCM.sec_fn(a)},csc_fn:function(a){l(this,a,"csc",PCM.csc);this.getDerivative=function(){return k(this.arg1,PCM.division(PCM.cos(this.arg1),PCM.power(PCM.sin(this.arg1),2)))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return 1/Math.sin(a)}},csc:function(a){return new PCM.csc_fn(a)},
arctan_fn:function(a){l(this,a,"arctan",PCM.arctan);this.getDerivative=function(){return k(this.arg1,PCM.division(1,PCM.sum([1,PCM.power(this.arg1,2)])))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.atan(a)}},arctan:function(a){return new PCM.arctan_fn(a)},arccot_fn:function(a){l(this,a,"arccot",PCM.arccot);p(this);this.getDerivative=function(){return k(this.arg1,PCM.division(-1,PCM.sum([1,PCM.power(this.arg1,2)])))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);
return Math.PI/2-Math.atan(a)}},arccot:function(a){return new PCM.arccot_fn(a)},arcsin_fn:function(a){l(this,a,"arcsin",PCM.arcsin);this.getDerivative=function(){return k(this.arg1,PCM.division(1,PCM.sqrt(PCM.substraction(1,PCM.power(this.arg1,2)))))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.asin(a)}},arcsin:function(a){return new PCM.arcsin_fn(a)},arccos_fn:function(a){l(this,a,"arccos",PCM.arccos);this.getDerivative=function(){return k(this.arg1,PCM.division(-1,PCM.sqrt(PCM.substraction(1,
PCM.power(this.arg1,2)))))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.acos(a)}},arccos:function(a){return new PCM.arccos_fn(a)},arcsec_fn:function(a){l(this,a,"arcsec",PCM.arcsec);p(this);this.getDerivative=function(){return k(this.arg1,PCM.division(1,PCM.multiplication([PCM.power(this.arg1,2),PCM.sqrt(PCM.sum([1,PCM.minus(PCM.power(this.arg1,2))]))])))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.acos(1/a)}},arcsec:function(a){return new PCM.arcsec_fn(a)},
arccosec_fn:function(a){l(this,a,"arccosec",PCM.arccosec);p(this);this.getDerivative=function(){return k(this.arg1,PCM.division(-1,PCM.multiplication([PCM.power(this.arg1,2),PCM.sqrt(PCM.substraction(1,PCM.power(this.arg1,2)))])))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.PI/2-Math.acos(1/a)}},arccosec:function(a){return new PCM.arccosec_fn(a)},function_fn:function(a,b){l(this,a,b,null);p(this);this.__clone=function(a){return new PCM.function_fn(a[0],this.name)};var c={versin:function(a){return PCM.sin(a)},
vercos:function(a){return PCM.minus(PCM.cos(a))},haversin:function(a){return PCM.division(PCM.sin(a),2)},exsec:function(a){return PCM.division(PCM.sin(a),PCM.power(PCM.cos(a),2))},excsc:function(a){return PCM.division(PCM.minus(PCM.cos(a)),PCM.power(PCM.sin(a),2))}},d={versin:function(a){return 1-Math.cos(a)},vercos:function(a){return 1+Math.cos(a)},haversin:function(a){return(1-Math.cos(a))/2},exsec:function(a){return 1/Math.cos(a)-1},excsc:function(a){return 1/Math.sin(a)-1}};this.getDerivative=
function(){if(PCM.isConstant(this.arg1))return 0;var a=c[this.name];if(a)return k(this.arg1,a(this.arg1))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return(0,d[this.name])(a)}},abs:function(a){return new PCM.abs_fn(a)},abs_fn:function(a){l(this,a,"abs",PCM.abs);this.getDerivative=function(){return k(this.arg1,PCM.sign(-1,this.arg1))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.abs(a)};this.getTeX=function(){return"\\left|"+PCM.getTeX(this.arg1)+"\\right|"}},sign:function(a){return PCM.isNumber(a)?
a<0?-1:a>0?1:0:new PCM.sign_fn(a)},sign_fn:function(a){l(this,a,"sign",PCM.sign);p(this);this.getDerivative=function(){return 0};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return a<0?-1:a>0?1:0}},pi_fn:function(){this.__enum=function(){return[]};this.__clone=function(){return new PCM.pi_fn};this.getValue=function(){return"pi"};this.getTeX=function(){return"\\pi"};this.getMath=function(){return"pi"};this.getDerivative=function(){return 0};this.calculate=function(){return Math.PI}},derivative_fn:function(a){this.arg1=
a;this.__enum=d;this.__clone=function(a){return PCM.derivative(a[0])};this.getValue=function(){return"f'("+PCM.getValue(this.arg1)+")"};this.getTeX=function(){return"{f^\\prime}\\left("+PCM.getTeX(this.arg1)+"\\right)"};this.getMath=function(){return"derivative("+PCM.getMath(this.arg1)+")"};this.getDerivative=function(){return this.arg1.getDerivative()}},derivative:function(a){return PCM.isConstant(a)?0:new PCM.derivative_fn(a)},translate:function(a){return(new n).__translate(a)},grammar:function(){this.digit=
{t:"|",v:"0,1,2,3,4,5,6,7,8,9".split(",")};this["plus sign"]="+";this["power sign"]="^";this["minus sign"]="-";this.dot=".";this["left paren"]="(";this["right paren"]=")";this.asterisk="*";this.solidus="/";this.dotorcomma={t:"|",v:[".",","]};this["unsigned integer"]={t:"&",v:[{t:"->",v:"digit"},{t:"*",v:{t:"->",v:"digit"}}]};this["exact numeric literal"]={t:"|",v:[{t:"&",v:[{t:"->",v:"unsigned integer"},{t:"|",v:[{t:"&",v:[{t:"->",v:"dotorcomma"},{t:"|",v:[{t:"->",v:"unsigned integer"},""]}]},""]}]},
{t:"&",v:[{t:"->",v:"dotorcomma"},{t:"->",v:"unsigned integer"}]}]};this.mantissa={t:"->",v:"exact numeric literal"};this["signed integer"]={t:"&",v:[{t:"|",v:[{t:"->",v:"sign"},""]},{t:"->",v:"unsigned integer"}]};this.sign={t:"|",v:[{t:"->",v:"plus sign"},{t:"->",v:"minus sign"}]};this.exponent={t:"->",v:"signed integer"};this["approximate numeric literal"]={t:"&",v:[{t:"->",v:"mantissa"},"E",{t:"->",v:"exponent"}]};this["unsigned numeric literal"]={t:"|",v:[{t:"->",v:"approximate numeric literal"},
{t:"->",v:"exact numeric literal"}]};this.variable="x";this.pi="pi";this.exponenta={t:"|",v:["e","E"]};this["paren expression"]={t:"&",v:[{t:"->",v:"left paren"},{t:"->",v:"expression"},{t:"->",v:"right paren"}]};this.value={t:"|",v:[{t:"->",v:"unsigned numeric literal"},{t:"->",v:"variable"},{t:"->",v:"func"},{t:"->",v:"funcnum"},{t:"->",v:"pi"},{t:"->",v:"exponenta"},{t:"->",v:"paren expression"}]};this.factor={t:"&",v:[{t:"|",v:[{t:"->",v:"sign"},""]},{t:"->",v:"value"}]};this.factoroperator={t:"|",
v:[{t:"->",v:"asterisk"},{t:"->",v:"solidus"}]};this.power={t:"&",v:[{t:"->",v:"factor"},{t:"*",v:{t:"&",v:[{t:"->",v:"power sign"},{t:"->",v:"factor"}]}}]};this.product={t:"&",v:[{t:"->",v:"power"},{t:"*",v:{t:"&",v:[{t:"->",v:"factoroperator"},{t:"->",v:"power"}]}}]};this.sum={t:"&",v:[{t:"->",v:"product"},{t:"*",v:{t:"&",v:[{t:"->",v:"sign"},{t:"->",v:"product"}]}}]};this.func={t:"&",v:[{t:"->",v:"func name"},{t:"->",v:"left paren"},{t:"->",v:"expression"},{t:"->",v:"right paren"}]};this.funcnum=
{t:"&",v:[{t:"->",v:"funcnum name"},{t:"->",v:"unsigned integer"},{t:"->",v:"left paren"},{t:"->",v:"expression"},{t:"->",v:"right paren"}]};this["func name"]={t:"|",v:"sinh,tanh,coth,cosh,sin,cosec,cos,tg,tan,ctg,cot,sech,sec,arcsin,arccosec,arccos,arctg,arctan,arcctg,arccot,arcsec,exp,lb,lg,ln,versin,vercos,haversin,exsec,excsc,sqrt,sh,ch,th,cth,csch,abs,sgn,sign".split(",")};this["funcnum name"]={t:"|",v:["root","log"]};this.expression={t:"->",v:"sum"};this._getRootRule=function(){return{t:"->",
v:"expression"}}}}}();function ResetOverflow(a){a.style.overflow="hidden";if(a.style.overflowX)a.style.overflowX="hidden";if(a.style.overflowY)a.style.overflowY="hidden";document.body.scroll="no";if(document.body.scroll)a.scroll="no"}
function DimmScreen(){var a=document.body,c=document.createElement("div");a.insertBefore(c,a.firstChild);ResetOverflow(a.firstChild);c.setAttribute("id","dimmer");c.style.display="block";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.zIndex=200;c.style.width="100%";a=BSGetPageSize();c.style.height=a.ypx}function UndimmScreen(){var a=document.body;a.removeChild(a.firstChild)}
function OpenIDDialogHandler(a){this.Dialog=null;this.Target=a;this.onchanged=function(){};this.initdialog=function(a){this.Dialog=a;this.Dialog.SetDefaultValues();this.Target.OpenIDDialog=a};this.oncommand=function(a){clearLastError();a=="input_cancel"?this.Dialog.Hide():a=="input_ok"&&this.Dialog.Validate()&&(this.Dialog.Hide(),this.Target&&this.Target.SubmitOpenID(this.Dialog.openid_url.GetValue()))};this.onkeypressed=function(){return true}}
function LJDialogHandler(a){this.Dialog=null;this.Target=a;this.onchanged=function(){};this.initdialog=function(a){this.Dialog=a;this.Dialog.SetDefaultValues();this.Target.LJDialog=a};this.oncommand=function(a){clearLastError();a=="input_cancel"?this.Dialog.Hide():a=="input_ok"&&this.Dialog.Validate()&&(this.Dialog.Hide(),this.Target&&this.Target.SubmitOpenID("http://"+this.Dialog.livejournal.GetValue()+".livejournal.com"))};this.onkeypressed=function(){return true}}
function AOLDialogHandler(a){this.Dialog=null;this.Target=a;this.onchanged=function(){};this.initdialog=function(a){this.Dialog=a;this.Dialog.SetDefaultValues();this.Target.AOLDialog=a};this.oncommand=function(a){clearLastError();a=="input_cancel"?this.Dialog.Hide():a=="input_ok"&&this.Dialog.Validate()&&(this.Dialog.Hide(),this.Target&&this.Target.SubmitOpenID("http://openid.aol.com/"+this.Dialog.aol.GetValue()))};this.onkeypressed=function(){return true}}
function MailRuDialogHandler(a){this.Dialog=null;this.Target=a;this.onchanged=function(){};this.initdialog=function(a){this.Dialog=a;this.Dialog.SetDefaultValues();this.Target.MRDialog=a};this.oncommand=function(a){clearLastError();a=="input_cancel"?this.Dialog.Hide():a=="input_ok"&&this.Dialog.Validate()&&(this.Dialog.Hide(),this.Target&&this.Target.SubmitOpenID("http://"+this.Dialog.mailru.GetValue().toLowerCase()+".id."+this.Dialog.mailru_domain.GetValue()))};this.onkeypressed=function(){return true}}
var TwitterT=null,TwitterDelayedLogin=false,RegisterWithDialog=null;function RegisterWith(){this.onchanged=function(){};this.initdialog=function(a){RegisterWithDialog=a};this.oncommand=function(){};this.onkeypressed=function(){return true}}
function GenericLogin(a,c,d,b,e){RegisterWithDialog.registerwith.SetValue(a);RegisterWithDialog.username.SetValue(c);RegisterWithDialog.picture.SetValue(d);RegisterWithDialog.profile.SetValue(b);RegisterWithDialog.fullname.SetValue(e);RegisterWithDialog.GetElement().submit()}function InitTwitterLogin(){TwitterT.isConnected()?TwitterLogin(TwitterT.currentUser):TwitterT.signIn()}
function TwitterLogin(a){EnableLoadingImage(false,201);UndimmScreen();var c=a.data("screen_name"),d=a.data("profile_image_url"),a=a.data("name");GenericLogin("twitter",c,d,"http://www.twitter.com/"+c,a)}function FacebookLogin(){EnableLoadingImage(false,201);UndimmScreen();FB.api("/me",function(a){GenericLogin("facebook",a.id,"http://graph.facebook.com/"+a.id+"/picture","http://www.facebook.com/"+a.id,a.first_name+" "+a.last_name)})}
function VKontakteLogin(a){EnableLoadingImage(false,201);UndimmScreen();VK.Api.call("getProfiles",{uids:a.mid,fields:"nickname,screen_name,photo"},function(a){a.response&&GenericLogin("vkontakte",a.response[0].screen_name,a.response[0].photo,"http://vkontakte.ru/"+a.response[0].screen_name,a.response[0].first_name+" "+a.response[0].last_name)})}
function LoginWith(){this.MRDialog=this.AOLDialog=this.LJDialog=this.OpenIDDialog=this.Dialog=null;this.onchanged=function(){};var a=this;this.initdialog=function(a){this.Dialog=a;twttr.anywhere(function(a){a.bind("authComplete",function(a,c){TwitterLogin(c)});a.bind("authFailed",function(){EnableLoadingImage(false,201);UndimmScreen()})});twttr.anywhere(this.twitter_init)};this.twitter_init=function(a){TwitterT=a;TwitterDelayedLogin&&InitTwitterLogin()};this.oncommand=function(c){clearLastError();
c=="yandex"||c=="yahoo"?this.Dialog.Validate()&&this.Dialog.GetElement().submit():c=="openid"?this.OpenIDDialog.Show():c=="livejournal"?this.LJDialog.Show():c=="aol"?this.AOLDialog.Show():c=="mailru"?this.MRDialog.Show():c=="google"?auth2.signIn().then(function(){var c=auth2.currentUser.get().getBasicProfile();console.log("ID: "+c.getId());console.log("Name: "+c.getName());console.log("Image URL: "+c.getImageUrl());console.log("Email: "+c.getEmail());a.Dialog.code.SetValue(gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().id_token);
a.Dialog.GetElement().submit()}):c=="twitter"?(DimmScreen(),EnableLoadingImage(true,201),null==TwitterT?TwitterDelayedLogin=true:InitTwitterLogin()):c=="facebook"?(DimmScreen(),EnableLoadingImage(true,201),FB.getLoginStatus(function(a){a.authResponse?FacebookLogin():FB.login(function(a){a.authResponse&&FacebookLogin()})})):c=="vkontakte"&&(DimmScreen(),EnableLoadingImage(true,201),VK.Auth.getLoginStatus(function(a){a.session?VKontakteLogin(a.session):VK.Auth.login(function(a){a.session&&VKontakteLogin(a.session)})}))};
this.onkeypressed=function(){return true};this.SubmitOpenID=function(a){this.Dialog.openidURL.SetValue(a);this.Dialog.Validate()&&this.Dialog.GetElement().submit()}};function getspaceseparated(a){for(var c="",d=0;d<a.length;++d){var b="";a[d].indexOf(" ")!=-1&&(b="&quot;");c+=b+a[d]+b+" "}return c}function exporttarget_email(a){document.location="mailto:?subject==?utf-8?q?"+encodeURIComponent(a.title).replace(/%/g,"=")+"?=&body="+encodeURIComponent(a.url+"?"+a.urlParams())}
function exporttarget_fields(a,c,d,b){window.open(c+d.url+"="+encodeURIComponent(a.url)+"&"+d.title+"="+encodeURIComponent(a.title)+"&"+d.tags+"="+encodeURIComponent(a.tags.join(b)),"delicious","toolbar=no,width=800,height=600")}function exporttarget_standard(a,c,d){exporttarget_fields(a,c,{url:"url",title:"title",tags:"tags"},d)}function exporttarget_delicious(a){exporttarget_standard(a,"http://del.icio.us/post?v=4&noui&jump=close&"," ")}
function exporttarget_bobrdobr(a){exporttarget_standard(a,"http://bobrdobr.ru/addext.html?",",")}function exporttarget_googlegadget(a){window.open("http://fusion.google.com/add?source=atgs&moduleurl="+encodeURIComponent(a.url)+a.language+"/"+a.id+".xml","gadget","toolbar=no,width=800,height=600")}function exporttarget_mrwong(a){exporttarget_fields(a,"http://www.mister-wong.ru/index.php?action=addurl&",{url:"bm_url",title:"bm_description",tags:"bm_tags"}," ")}
function exporttarget_yandex(a){exporttarget_fields(a,"http://zakladki.yandex.ru/userarea/links/addfromfav.asp?bAddLink_x=1&",{url:"url",title:"name",tags:"tags"},",")}function exporttarget_myscoop(a){exporttarget_standard(a,"http://myscoop.ru/add/?"," ")}function exporttarget_memori(a){exporttarget_fields(a,"http://memori.ru/link/?sm=1&",{url:"u_data[url]",title:"u_data[name]",tags:"u_data[tags]"}," ")}
function exporttarget_google(a){exporttarget_fields(a,"http://www.google.com/bookmarks/mark?op=add&",{url:"bkmk",title:"title",tags:"labels"},",")}function exporttarget_furl(a){exporttarget_fields(a,"http://www.furl.net/storeIt.jsp?",{url:"u",title:"t",tags:"keywords"},",")}function exporttarget_digg(a){exporttarget_fields(a,"http://digg.com/submit?phase=2&",{url:"url",title:"title",tags:"bodytext"},",")}
function exporttarget_tweetter(a){window.open("http://twitter.com/intent/tweet?text="+encodeURIComponent(a.title+" ")+encodeURIComponent(a.url)+"&lang="+a.language,"tweetter","toolbar=no,width=800,height=600")};(function(a){a(function(){var c=a.support,d;a:{d=document.createElement("bootstrap");var b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},e;for(e in b)if(d.style[e]!==void 0){d=b[e];break a}d=void 0}c.transition=d&&{end:d}})})(window.jQuery);
(function(a){var c=function(b,c){this.options=c;this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};c.prototype={constructor:c,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c);if(!this.isShown&&!c.isDefaultPrevented())this.isShown=true,this.escape(),this.backdrop(function(){var c=a.support.transition&&
b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body);b.$element.show();b.$element.addClass("in").attr("aria-hidden",false);b.enforceFocus();c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")})},hide:function(b){b&&b.preventDefault();b=a.Event("hide");this.$element.trigger(b);if(this.isShown&&!b.isDefaultPrevented())this.isShown=false,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",
true),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]!==a.target&&!b.$element.has(a.target).length&&b.$element.focus()})},escape:function(){var a=this;if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.modal",function(c){c.which==27&&a.hide()});else this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=
this,c=setTimeout(function(){b.$element.off(a.support.transition.end);b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c);b.hideModal()})},hideModal:function(){var a=this;this.$element.hide();this.backdrop(function(){a.removeBackdrop();a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=
a.support.transition&&c;this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body);this.$backdrop.click(this.options.backdrop=="static"?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this));this.$backdrop.addClass("in");b&&(d?this.$backdrop.one(a.support.transition.end,b):b())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};
var d=a.fn.modal;a.fn.modal=function(b){return this.each(function(){var d=a(this),f=d.data("modal"),g=a.extend({},a.fn.modal.defaults,d.data(),typeof b=="object"&&b);f||d.data("modal",f=new c(this,g));if(typeof b=="string")f[b]();else g.show&&f.show()})};a.fn.modal.defaults={backdrop:true,keyboard:true,show:true};a.fn.modal.Constructor=c;a.fn.modal.noConflict=function(){a.fn.modal=d;return this};a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),
g=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),d=g.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},g.data(),c.data());b.preventDefault();g.modal(d).one("hide",function(){c.focus()})})})(window.jQuery);
(function(a){function c(){a(".dropdown-backdrop").remove();a(b).each(function(){d(a(this)).removeClass("open")})}function d(b){var c=b.attr("data-target");c||(c=(c=b.attr("href"))&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));c=c&&a(c);if(!c||!c.length)c=b.parent();return c}var b="[data-toggle=dropdown]",e=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(){var b=
a(this),e,f;if(!b.is(".disabled, :disabled")){e=d(b);f=e.hasClass("open");c();if(!f){if("ontouchstart"in document.documentElement)a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",c);e.toggleClass("open")}b.focus();return false}},keydown:function(c){var e,f,j;if(/(38|40|27)/.test(c.keyCode)&&(e=a(this),c.preventDefault(),c.stopPropagation(),!e.is(".disabled, :disabled"))){f=d(e);j=f.hasClass("open");if(!j||j&&c.keyCode==27)return c.which==27&&f.find(b).focus(),e.click();e=a("[role=menu] li:not(.divider):visible a",
f);e.length&&(f=e.index(e.filter(":focus")),c.keyCode==38&&f>0&&f--,c.keyCode==40&&f<e.length-1&&f++,~f||(f=0),e.eq(f).focus())}}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new e(this));typeof b=="string"&&d[b].call(c)})};a.fn.dropdown.Constructor=e;a.fn.dropdown.noConflict=function(){a.fn.dropdown=f;return this};a(document).on("click.dropdown.data-api",c).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",
b,e.prototype.toggle).on("keydown.dropdown.data-api",b+", [role=menu]",e.prototype.keydown)})(window.jQuery);
(function(a){function c(b,c){var d=a.proxy(this.process,this),g=a(b).is("body")?a(window):a(b),h;this.options=a.extend({},a.fn.scrollspy.defaults,c);this.$scrollElement=g.on("scroll.scroll-spy.data-api",d);this.selector=(this.options.target||(h=a(b).attr("href"))&&h.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=a("body");this.refresh();this.process()}c.prototype={constructor:c,refresh:function(){var b=this;this.offsets=a([]);this.targets=a([]);this.$body.find(this.selector).map(function(){var c=
a(this),c=c.data("target")||c.attr("href"),d=/^#\w/.test(c)&&a(c);return d&&d.length&&[[d.position().top+(!a.isWindow(b.$scrollElement.get(0))&&b.$scrollElement.scrollTop()),c]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]);b.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,c=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),d=this.offsets,g=this.targets,h=this.activeTarget,
i;if(a>=c)return h!=(i=g.last()[0])&&this.activate(i);for(i=d.length;i--;)h!=g[i]&&a>=d[i]&&(!d[i+1]||a<=d[i+1])&&this.activate(g[i])},activate:function(b){this.activeTarget=b;a(this.selector).parent(".active").removeClass("active");b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parent("li").addClass("active");b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate")}};var d=a.fn.scrollspy;a.fn.scrollspy=function(b){return this.each(function(){var d=
a(this),f=d.data("scrollspy"),g=typeof b=="object"&&b;f||d.data("scrollspy",f=new c(this,g));if(typeof b=="string")f[b]()})};a.fn.scrollspy.Constructor=c;a.fn.scrollspy.defaults={offset:10};a.fn.scrollspy.noConflict=function(){a.fn.scrollspy=d;return this};a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})})(window.jQuery);
(function(a){var c=function(b){this.element=a(b)};c.prototype={constructor:c,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target"),g,h;d||(d=(d=b.attr("href"))&&d.replace(/.*(?=#[^\s]*$)/,""));b.parent("li").hasClass("active")||(g=c.find(".active:last a")[0],h=a.Event("show",{relatedTarget:g}),b.trigger(h),h.isDefaultPrevented()||(d=a(d),this.activate(b.parent("li"),c),this.activate(d,d.parent(),function(){b.trigger({type:"shown",relatedTarget:g})})))},activate:function(b,
c,d){function g(){h.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");b.addClass("active");i?b.addClass("in"):b.removeClass("fade");b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active");d&&d()}var h=c.find("> .active"),i=d&&a.support.transition&&h.hasClass("fade");i?h.one(a.support.transition.end,g):g();h.removeClass("in")}};var d=a.fn.tab;a.fn.tab=function(b){return this.each(function(){var d=a(this),f=d.data("tab");f||d.data("tab",f=new c(this));if(typeof b==
"string")f[b]()})};a.fn.tab.Constructor=c;a.fn.tab.noConflict=function(){a.fn.tab=d;return this};a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault();a(this).tab("show")})})(window.jQuery);
(function(a){var c=function(a,c){this.init("tooltip",a,c)};c.prototype={constructor:c,init:function(b,c,d){var g;this.type=b;this.$element=a(c);this.options=this.getOptions(d);this.enabled=true;c=this.options.trigger.split(" ");for(d=c.length;d--;)if(g=c[d],g=="click")this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else g!="manual"&&(b=g=="hover"?"mouseenter":"focus",g=g=="hover"?"mouseleave":"blur",this.$element.on(b+"."+this.type,this.options.selector,a.proxy(this.enter,
this)),this.$element.on(g+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b);if(b.delay&&typeof b.delay=="number")b.delay={show:b.delay,hide:b.delay};return b},enter:function(b){var c=a.fn[this.type].defaults,d={},g;this._options&&a.each(this._options,function(a,b){c[a]!=b&&(d[a]=b)},this);g=
a(b.currentTarget)[this.type](d).data(this.type);if(!g.options.delay||!g.options.delay.show)return g.show();clearTimeout(this.timeout);g.hoverState="in";this.timeout=setTimeout(function(){g.hoverState=="in"&&g.show()},g.options.delay.show)},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!c.options.delay||!c.options.delay.hide)return c.hide();c.hoverState="out";this.timeout=setTimeout(function(){c.hoverState=="out"&&
c.hide()},c.options.delay.hide)},show:function(){var b,c,d,g,h;c=a.Event("show");if(this.hasContent()&&this.enabled&&(this.$element.trigger(c),!c.isDefaultPrevented())){b=this.tip();this.setContent();this.options.animation&&b.addClass("fade");g=typeof this.options.placement=="function"?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement;b.detach().css({top:0,left:0,display:"block"});this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element);c=
this.getPosition();d=b[0].offsetWidth;b=b[0].offsetHeight;switch(g){case "bottom":h={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case "top":h={top:c.top-b,left:c.left+c.width/2-d/2};break;case "left":h={top:c.top+c.height/2-b/2,left:c.left-d};break;case "right":h={top:c.top+c.height/2-b/2,left:c.left+c.width}}this.applyPlacement(h,g);this.$element.trigger("shown")}},applyPlacement:function(a,c){var d=this.tip(),g=d[0].offsetWidth,h=d[0].offsetHeight,i,j,k;d.offset(a).addClass(c).addClass("in");
i=d[0].offsetWidth;j=d[0].offsetHeight;if(c=="top"&&j!=h)a.top=a.top+h-j,k=true;if(c=="bottom"||c=="top"){h=0;if(a.left<0)h=a.left*-2,a.left=0,d.offset(a),i=d[0].offsetWidth;this.replaceArrow(h-g+i,i,"left")}else this.replaceArrow(j-h,j,"top");k&&d.offset(a)},replaceArrow:function(a,c,d){this.arrow().css(d,a?50*(1-a/c)+"%":"")},setContent:function(){var a=this.tip(),c=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](c);a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=
setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b);c.detach()})}var c=this.tip(),d=a.Event("hide");this.$element.trigger(d);if(!d.isDefaultPrevented())return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():c.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var a=this.$element;if(a.attr("title")||typeof a.attr("data-original-title")!="string")a.attr("data-original-title",a.attr("title")||
"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},typeof b.getBoundingClientRect=="function"?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a=this.$element,c=this.options;return a.attr("data-original-title")||(typeof c.title=="function"?c.title.call(a[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=
this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode)this.hide(),this.options=this.$element=null},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){b=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;b.tip().hasClass("in")?b.hide():b.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var d=a.fn.tooltip;
a.fn.tooltip=function(b){return this.each(function(){var d=a(this),f=d.data("tooltip"),g=typeof b=="object"&&b;f||d.data("tooltip",f=new c(this,g));if(typeof b=="string")f[b]()})};a.fn.tooltip.Constructor=c;a.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};a.fn.tooltip.noConflict=function(){a.fn.tooltip=d;return this}})(window.jQuery);
(function(a){var c=function(a,c){this.init("popover",a,c)};c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:c,setContent:function(){var a=this.tip(),c=this.getTitle(),d=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](c);a.find(".popover-content")[this.options.html?"html":"text"](d);a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a=this.$element,c=this.options;
return(typeof c.content=="function"?c.content.call(a[0]):c.content)||a.attr("data-content")},tip:function(){if(!this.$tip)this.$tip=a(this.options.template);return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var d=a.fn.popover;a.fn.popover=function(b){return this.each(function(){var d=a(this),f=d.data("popover"),g=typeof b=="object"&&b;f||d.data("popover",f=new c(this,g));if(typeof b=="string")f[b]()})};a.fn.popover.Constructor=c;a.fn.popover.defaults=
a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});a.fn.popover.noConflict=function(){a.fn.popover=d;return this}})(window.jQuery);
(function(a){var c=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c);this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this));this.$element=a(b);this.checkPosition()};c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=a(document).height(),c=this.$window.scrollTop(),d=this.$element.offset(),g=this.options.offset,h=g.bottom,i=g.top;typeof g!=
"object"&&(h=i=g);typeof i=="function"&&(i=g.top());typeof h=="function"&&(h=g.bottom());b=this.unpin!=null&&c+this.unpin<=d.top?false:h!=null&&d.top+this.$element.height()>=b-h?"bottom":i!=null&&c<=i?"top":false;if(this.affixed!==b)this.affixed=b,this.unpin=b=="bottom"?d.top-c:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(b?"-"+b:""))}};var d=a.fn.affix;a.fn.affix=function(b){return this.each(function(){var d=a(this),f=d.data("affix"),g=typeof b=="object"&&b;f||
d.data("affix",f=new c(this,g));if(typeof b=="string")f[b]()})};a.fn.affix.Constructor=c;a.fn.affix.defaults={offset:0};a.fn.affix.noConflict=function(){a.fn.affix=d;return this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{};c.offsetBottom&&(c.offset.bottom=c.offsetBottom);c.offsetTop&&(c.offset.top=c.offsetTop);b.affix(c)})})})(window.jQuery);
(function(a){var c=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};c.prototype.close=function(b){function c(){h.trigger("closed").remove()}var d=a(this),g=d.attr("data-target"),h;g||(g=(g=d.attr("href"))&&g.replace(/.*(?=#[^\s]*$)/,""));h=a(g);b&&b.preventDefault();h.length||(h=d.hasClass("alert")?d:d.parent());h.trigger(b=a.Event("close"));b.isDefaultPrevented()||(h.removeClass("in"),a.support.transition&&h.hasClass("fade")?h.on(a.support.transition.end,c):c())};var d=a.fn.alert;
a.fn.alert=function(b){return this.each(function(){var d=a(this),f=d.data("alert");f||d.data("alert",f=new c(this));typeof b=="string"&&f[b].call(d)})};a.fn.alert.Constructor=c;a.fn.alert.noConflict=function(){a.fn.alert=d;return this};a(document).on("click.alert.data-api",'[data-dismiss="alert"]',c.prototype.close)})(window.jQuery);
(function(a){var c=function(b,c){this.$element=a(b);this.options=a.extend({},a.fn.button.defaults,c)};c.prototype.setState=function(a){var c=this.$element,d=c.data(),g=c.is("input")?"val":"html";a+="Text";d.resetText||c.data("resetText",c[g]());c[g](d[a]||this.options[a]);setTimeout(function(){a=="loadingText"?c.addClass("disabled").attr("disabled","disabled"):c.removeClass("disabled").removeAttr("disabled")},0)};c.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');
a&&a.find(".active").removeClass("active");this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=function(b){return this.each(function(){var d=a(this),f=d.data("button"),g=typeof b=="object"&&b;f||d.data("button",f=new c(this,g));b=="toggle"?f.toggle():b&&f.setState(b)})};a.fn.button.defaults={loadingText:"loading..."};a.fn.button.Constructor=c;a.fn.button.noConflict=function(){a.fn.button=d;return this};a(document).on("click.button.data-api","[data-toggle^=button]",function(b){b=a(b.target);
b.hasClass("btn")||(b=b.closest(".btn"));b.button("toggle")})})(window.jQuery);
(function(a){var c=function(b,c){this.$element=a(b);this.options=a.extend({},a.fn.collapse.defaults,c);if(this.options.parent)this.$parent=a(this.options.parent);this.options.toggle&&this.toggle()};c.prototype={constructor:c,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var b,c,d,g;if(!this.transitioning&&!this.$element.hasClass("in")){b=this.dimension();c=a.camelCase(["scroll",b].join("-"));if((d=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&
d.length){if((g=d.data("collapse"))&&g.transitioning)return;d.collapse("hide");g||d.data("collapse",null)}this.$element[b](0);this.transition("addClass",a.Event("show"),"shown");a.support.transition&&this.$element[b](this.$element[0][c])}},hide:function(){var b;!this.transitioning&&this.$element.hasClass("in")&&(b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0))},reset:function(a){var c=this.dimension();this.$element.removeClass("collapse")[c](a||
"auto");this.$element[a!==null?"addClass":"removeClass"]("collapse");return this},transition:function(b,c,d){var g=this,h=function(){c.type=="show"&&g.reset();g.transitioning=0;g.$element.trigger(d)};this.$element.trigger(c);if(!c.isDefaultPrevented())this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,h):h()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var d=a.fn.collapse;a.fn.collapse=
function(b){return this.each(function(){var d=a(this),f=d.data("collapse"),g=a.extend({},a.fn.collapse.defaults,d.data(),typeof b=="object"&&b);f||d.data("collapse",f=new c(this,g));if(typeof b=="string")f[b]()})};a.fn.collapse.defaults={toggle:true};a.fn.collapse.Constructor=c;a.fn.collapse.noConflict=function(){a.fn.collapse=d;return this};a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,b=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&
d.replace(/.*(?=#[^\s]+$)/,"");d=a(b).data("collapse")?"toggle":c.data();c[a(b).hasClass("in")?"addClass":"removeClass"]("collapsed");a(b).collapse(d)})})(window.jQuery);
(function(a){var c=function(b,c){this.$element=a(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=c;this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};c.prototype={cycle:function(b){if(!b)this.paused=false;this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this},getActiveIndex:function(){this.$active=
this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)},to:function(b){var c=this.getActiveIndex(),d=this;if(!(b>this.$items.length-1||b<0))return this.sliding?this.$element.one("slid",function(){d.to(b)}):c==b?this.pause().cycle():this.slide(b>c?"next":"prev",a(this.$items[b]))},pause:function(b){if(!b)this.paused=true;this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),
this.cycle(true));clearInterval(this.interval);this.interval=null;return this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(b,c){var d=this.$element.find(".item.active"),g=c||d[b](),h=this.interval,i=b=="next"?"left":"right",j=b=="next"?"first":"last",k=this;this.sliding=true;h&&this.pause();g=g.length?g:this.$element.find(".item")[j]();j=a.Event("slide",{relatedTarget:g[0],direction:i});if(!g.hasClass("active")){this.$indicators.length&&
(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(k.$indicators.children()[k.getActiveIndex()]);b&&b.addClass("active")}));if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(j);if(j.isDefaultPrevented())return;g.addClass(b);d.addClass(i);g.addClass(i);this.$element.one(a.support.transition.end,function(){g.removeClass([b,i].join(" ")).addClass("active");d.removeClass(["active",i].join(" "));k.sliding=false;setTimeout(function(){k.$element.trigger("slid")},
0)})}else{this.$element.trigger(j);if(j.isDefaultPrevented())return;d.removeClass("active");g.addClass("active");this.sliding=false;this.$element.trigger("slid")}h&&this.cycle();return this}}};var d=a.fn.carousel;a.fn.carousel=function(b){return this.each(function(){var d=a(this),f=d.data("carousel"),g=a.extend({},a.fn.carousel.defaults,typeof b=="object"&&b),h=typeof b=="string"?b:g.slide;f||d.data("carousel",f=new c(this,g));if(typeof b=="number")f.to(b);else if(h)f[h]();else g.interval&&f.pause().cycle()})};
a.fn.carousel.defaults={interval:5E3,pause:"hover"};a.fn.carousel.Constructor=c;a.fn.carousel.noConflict=function(){a.fn.carousel=d;return this};a(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c=a(this),d,g=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));d=a.extend({},g.data(),c.data());var h;g.carousel(d);(h=c.attr("data-slide-to"))&&g.data("carousel").pause().to(h).cycle();b.preventDefault()})})(window.jQuery);
(function(a){var c=function(b,c){this.$element=a(b);this.options=a.extend({},a.fn.typeahead.defaults,c);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=a(this.options.menu);this.shown=false;this.listen()};c.prototype={constructor:c,select:function(){this.$element.val(this.updater(this.$menu.find(".active").attr("data-value"))).change();
return this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.insertAfter(this.$element).css({top:b.top+b.height,left:b.left}).show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(){var b;this.query=this.$element.val();return!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(b=a.isFunction(this.source)?this.source(this.query,
a.proxy(this.process,this)):this.source)?this.process(b):this},process:function(b){var c=this,b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b);return!b.length?this.shown?this.hide():this:this.render(b.slice(0,this.options.items)).show()},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var c=[],d=[],g=[],h;h=a.shift();)h.toLowerCase().indexOf(this.query.toLowerCase())?~h.indexOf(this.query)?d.push(h):g.push(h):c.push(h);return c.concat(d,
g)},highlighter:function(a){var c=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(RegExp("("+c+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this,b=a(b).map(function(b,d){b=a(c.options.item).attr("data-value",d);b.find("a").html(c.highlighter(d));return b[0]});b.first().addClass("active");this.$menu.html(b);return this},next:function(){var b=this.$menu.find(".active").removeClass("active").next();b.length||(b=a(this.$menu.find("li")[0]));
b.addClass("active")},prev:function(){var a=this.$menu.find(".active").removeClass("active").prev();a.length||(a=this.$menu.find("li").last());a.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this));if(this.eventSupported("keydown"))this.$element.on("keydown",a.proxy(this.keydown,this));this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter",
"li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},eventSupported:function(a){var c=a in this.$element;c||(this.$element.setAttribute(a,"return;"),c=typeof this.$element[a]==="function");return c},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault();this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,
[40,38,9,13,27]);this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation();a.preventDefault()},focus:function(){this.focused=true},blur:function(){this.focused=false;!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation();a.preventDefault();
this.select();this.$element.focus()},mouseenter:function(b){this.mousedover=true;this.$menu.find(".active").removeClass("active");a(b.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=false;!this.focused&&this.shown&&this.hide()}};var d=a.fn.typeahead;a.fn.typeahead=function(b){return this.each(function(){var d=a(this),f=d.data("typeahead"),g=typeof b=="object"&&b;f||d.data("typeahead",f=new c(this,g));if(typeof b=="string")f[b]()})};a.fn.typeahead.defaults={source:[],items:8,
menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1};a.fn.typeahead.Constructor=c;a.fn.typeahead.noConflict=function(){a.fn.typeahead=d;return this};a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var b=a(this);b.data("typeahead")||b.typeahead(b.data())})})(window.jQuery);(function(a){function c(a,c){var d=a.data("ddslick");if(!(d.settings.data.length<=c)){var e=a.find(".dd-selected"),f=e.siblings(".dd-selected-value");a.find(".dd-options");e.siblings(".dd-pointer");var g=a.find(".dd-option").eq(c),n=g.closest("li"),o=d.settings,m=d.settings.data[c];a.find(".dd-option").removeClass("dd-option-selected");g.addClass("dd-option-selected");d.selectedIndex=c;d.selectedItem=n;d.selectedData=m;o.showSelectedHTML?e.html((m.imageSrc?'<img class="dd-selected-image'+(o.imagePosition==
"right"?" dd-image-right":"")+'" src="'+m.imageSrc+'" />':"")+(m.text?'<label class="dd-selected-text">'+m.text+"</label>":"")+(m.description?'<small class="dd-selected-description dd-desc'+(o.truncateDescription?" dd-selected-description-truncated":"")+'" >'+m.description+"</small>":"")):e.html(m.text);f.val(m.value);d.original.val(m.value);a.data("ddslick",d);b(a);e=a.find(".dd-select").css("height");f=a.find(".dd-selected-description");g=a.find(".dd-selected-image");f.length<=0&&g.length>0&&a.find(".dd-selected-text").css("lineHeight",
e);typeof o.onSelected=="function"&&o.onSelected.call(this,d)}}function d(b){var c=b.find(".dd-select"),d=c.siblings(".dd-options"),c=c.find(".dd-pointer"),f=d.is(":visible");a(".dd-click-off-close").not(d).slideUp(50);a(".dd-pointer").removeClass("dd-pointer-up");f?(d.slideUp("fast"),c.removeClass("dd-pointer-up")):(d.slideDown("fast"),c.addClass("dd-pointer-up"));e(b)}function b(a){a.find(".dd-options").slideUp(50);a.find(".dd-pointer").removeClass("dd-pointer-up").removeClass("dd-pointer-up")}
function e(b){b.find(".dd-option").each(function(){var c=a(this),d=c.css("height"),e=c.find(".dd-option-description"),f=b.find(".dd-option-image");e.length<=0&&f.length>0&&c.find(".dd-option-text").css("lineHeight",d)})}a.fn.ddslick=function(b){if(f[b])return f[b].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof b==="object"||!b)return f.init.apply(this,arguments);else a.error("Method "+b+" does not exists.")};var f={},g={data:[],keepJSONItemsOnTop:false,height:null,selectText:"",
defaultSelectedIndex:null,truncateDescription:true,imagePosition:"left",showSelectedHTML:true,clickOffToClose:true,onSelected:function(){}};f.init=function(b){b=a.extend({},g,b);return this.each(function(){var e=a(this);if(!e.data("ddslick")){var f=[];e.find("option").each(function(){var b=a(this),c=b.data();f.push({text:a.trim(b.text()),value:b.val(),selected:b.is(":selected"),description:c.description,imageSrc:c.imagesrc})});b.keepJSONItemsOnTop?a.merge(b.data,f):b.data=a.merge(f,b.data);var g=
e,l=a('<div id="'+e.attr("id")+'"></div>');e.replaceWith(l);e=l;e.addClass("dd-container").append('<div class="dd-select"><input class="dd-selected-value" type="hidden" /><a class="dd-selected"></a><span class="dd-pointer dd-pointer-down"></span></div>').append('<ul class="dd-options"></ul>');var f=e.find(".dd-select"),p=e.find(".dd-options");b.height!=null&&p.css({height:b.height,overflow:"auto"});a.each(b.data,function(a,c){if(c.selected)b.defaultSelectedIndex=a;p.append('<li><a class="dd-option">'+
(c.value?' <input class="dd-option-value" type="hidden" value="'+c.value+'" />':"")+(c.imageSrc?' <img class="dd-option-image'+(b.imagePosition=="right"?" dd-image-right":"")+'" src="'+c.imageSrc+'" />':"")+(c.text?' <label class="dd-option-text">'+c.text+"</label>":"")+(c.description?' <small class="dd-option-description dd-desc">'+c.description+"</small>":"")+"</a></li>")});e.data("ddslick",{settings:b,original:g,selectedIndex:-1,selectedItem:null,selectedData:null});b.selectText.length>0&&b.defaultSelectedIndex==
null?e.find(".dd-selected").html(b.selectText):c(e,b.defaultSelectedIndex!=null&&b.defaultSelectedIndex>=0&&b.defaultSelectedIndex<b.data.length?b.defaultSelectedIndex:0);e.find(".dd-select").on("click.ddslick",function(){d(e)});e.find(".dd-option").on("click.ddslick",function(){c(e,a(this).closest("li").index())});b.clickOffToClose&&(p.addClass("dd-click-off-close"),e.on("click.ddslick",function(a){a.stopPropagation()}),a("body").on("click",function(){a(".dd-click-off-close").slideUp(50).siblings(".dd-select").find(".dd-pointer").removeClass("dd-pointer-up")}))}})
};
f.select=function(b){return this.each(function(){b.index&&c(a(this),b.index)})};f.open=function(){return this.each(function(){var b=a(this);b.data("ddslick")&&d(b)})};f.close=function(){return this.each(function(){var c=a(this);c.data("ddslick")&&b(c)})};f.destroy=function(){return this.each(function(){var b=a(this),c=b.data("ddslick");if(c)c=c.original,b.removeData("ddslick").unbind(".ddslick").replaceWith(c)})}})(jQuery);
